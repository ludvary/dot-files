"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[3272],{90881:function(t,e,s){s.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showing,expression:"showing"}],staticClass:"bg-black bg-opacity-40 bottom-0 fixed flex items-center justify-center left-0 right-0 top-0 z-10"},[e("div",{staticClass:"bg-modal flex flex-col items-center max-w-screen-sm mx-10 my-10 px-10 py-7 rounded-lg w-full"},["success"===t.icon?e("img",{staticClass:"h-14 mb-6 w-14",attrs:{src:s(54398)}}):t._e(),t.title?e("div",{staticClass:"break-words font-bold max-w-xs mb-4 text-xl"},[t._v(t._s(t.title))]):t._e(),t.message?e("div",{staticClass:"break-words leading-5 max-w-xs mb-6 opacity-60 text-base text-center text-dark-message"},[t._v(" "+t._s(t.message)+" ")]):t._e(),e("primary-button",{staticClass:"mt-2",attrs:{title:t.action},on:{click:t.runActionAndClose}})],1)])])},o=[],a=s(25319),n={name:"AlertDialog",components:{PrimaryButton:a.Z},props:{icon:{default:"",type:String}},data(){return{action:"",callback:null,message:"",showing:!1,title:""}},methods:{async runActionAndClose(){this.callback&&await this.callback(),this.showing=!1},show(t,e,s,i){this.title=t,this.message=e,this.showing=!0,this.action=s||this.$t("general.dismiss"),this.callback=i}}},r=n,l=s(1001),c=(0,l.Z)(r,i,o,!1,null,"6503e9d2",null),d=c.exports},210:function(t,e,s){s.d(e,{Z:function(){return c}});s(57658);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"active:brightness-75 flex flex-row h-14 items-center px-4 py-2",on:{click:function(e){t.to?t.$router.push(t.to):t.$emit("click")}}},[e("div",{staticClass:"mr-4 w-4"},[t.icon?e("img",{staticClass:"me-4 text-2xl text-primary-100",attrs:{src:t.icon}}):t._e()]),e("div",[e("div",[t._v(t._s(t.title))]),t.subtitle?e("div",{staticClass:"text-xs",class:t.subtitleClass},[t._v(t._s(t.subtitle))]):t._e()]),e("div",{attrs:{ckass:"flex-grow"}}),t.loading?e("i",{staticClass:"animate-spin icon-spinner"}):t.appendIcon?e("i",{staticClass:"se-4 text-2xl text-primary-100",class:t.appendIcon}):t._e()])},o=[],a={name:"ListItem",components:{},props:{appendIcon:{default:"",type:String},icon:{default:"",type:String},loading:{type:Boolean},subtitle:{default:"",type:String},subtitleClass:{default:"",type:String},title:{default:"",type:String},to:{default:"",type:String}}},n=a,r=s(1001),l=(0,r.Z)(n,i,o,!1,null,null,null),c=l.exports},33272:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col h-full"},[e("top-bar",{attrs:{title:t.$t("fio.fio")}}),e("div",{staticClass:"px-11 py-8"},[e("list-item",{attrs:{icon:s(18202),loading:t.fio.loading,title:t.$t("general.fioHandle")},on:{click:t.goToFioSettings}}),e("list-item",{attrs:{icon:s(25312),title:t.$t("general.fioDomains"),to:"/settings/fio/domains"}}),e("alert-dialog",{ref:"errorDialog"})],1)],1)},o=[],a=(s(57658),s(66229)),n=s(90881),r=s(210),l=s(69986),c=s(10552),d={name:"FioSettingsView",components:{AlertDialog:n.Z,ListItem:r.Z,TopBar:l.Z},data(){return{fio:{error:!1,handle:null,loading:!1}}},computed:{publicKey(){const{accountsByCoinType:t}=this.$store.getters;return t[a.Dc.FIO]}},mounted(){this.fetchFioHandle()},methods:{async fetchFioHandle(){this.fio.loading=!0;try{const t=await c.Z.getFioHandles(this.publicKey);t.fio_addresses?.length&&(this.fio.handle=t.fio_addresses.find((t=>t.fio_address.endsWith("@opera")))?.fio_address,this.fio.handle||(this.fio.handle=t.fio_addresses[0]?.fio_address))}catch(t){404!==t.response.status&&(this.fio.error=!0,this.$errorReporter.reportError(t))}finally{this.fio.loading=!1}},goToFioSettings(){if(this.fio.loading)return;if(this.fio.error)return void this.$refs.errorDialog.show(this.$t("errors.generic.oops"),this.$t("errors.generic.somethingWentWrong"));const{handle:t}=this.fio;t?this.$router.push({path:"/settings/fio/connect",query:{handle:t}}):this.$router.push({path:"/settings/fio/register",query:{hasOperaDomain:"false"}})}}},f=d,u=s(1001),h=(0,u.Z)(f,i,o,!1,null,null,null),p=h.exports},25312:function(t,e,s){t.exports=s.p+"img/fio_domain.8c9954e5.svg"},18202:function(t,e,s){t.exports=s.p+"img/fio_handle.b1d53b26.svg"}}]);