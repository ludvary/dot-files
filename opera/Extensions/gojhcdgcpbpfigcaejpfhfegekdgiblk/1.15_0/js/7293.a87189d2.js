"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[7293],{36080:function(t,e,s){s.d(e,{Z:function(){return b}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.activity&&t.token?e("div",{staticClass:"cursor-pointer flex my-3 p-4 rounded-lg t-activity_preview_item-transaction_detail",class:{"bg-dark-N16":!("pending"===t.txStatus),"bg-white":"pending"===t.txStatus,"text-spectrum-red":"failure"===t.txStatus,"text-white":!("pending"===t.txStatus),"text-dark-N16":"pending"===t.txStatus},on:{click:function(e){return t.openTransactionDetail(t.activity.hash)}}},[e("div",{staticClass:"mt-3 shrink-0"},[e("img",{class:[{"animate-spin":"pending"===t.txStatus}],attrs:{src:t.icons[t.txStatus]}})]),e("div",{staticClass:"flex items-center justify-between ml-4 truncate w-full"},[e("div",[e("div",{staticClass:"font-bold t-headline text-sm"},[t._v(t._s(t.headline))]),t.isRecipientOnly||t.isSenderOnly?t._e():e("div",{staticClass:"t-address text-dark-N77 text-sm",class:[{"text-spectrum-red":"failure"===t.txStatus}]},[t._v(" "+t._s(t.prettyAddress)+" ")])]),t.token?e("div",{staticClass:"text-end truncate"},[e("div",{staticClass:"flex font-bold justify-end text-sm"},[e("div",{staticClass:"max-w-[160px] pr-1 truncate",attrs:{title:t.value}},[t._v(" "+t._s(t.value)+" ")]),e("div",{staticClass:"max-w-[50px] min-w-[30px] truncate",attrs:{title:t.symbol}},[t._v(" "+t._s(t.symbol)+" ")])]),e("div",{staticClass:"text-dark-N77 text-sm",class:[{"text-spectrum-red":"failure"===t.txStatus}]},["pending"===t.txStatus?e("span",[t._v(t._s(t.$t("general.pending")+"..."))]):e("span",[t._v(t._s(t.timeOfActivity))])])]):t._e()])]):t._e()},a=[],r=s(79317),n=s(67041),o=s(46686),l=s(92496),c=s(20144),d=s(13692),h=s(10359),p=s(9502),u=s(44245),g=s(37426),m=c.ZP.extend({name:"ActivityItem",props:{activity:{default:void 0,type:Object}},data(){const t=1e4;return{BASE_DELAY:t,delay:{bnb:t,btc:6e4,eth:t,matic:5e3},icons:{failure:s(98498),pending:s(71643),success:s(27176)},prettyAddress:`${this.$t("general.loading")}...`,timeOfActivity:"",token:void 0,txStatus:null,updateActivityInterval:null,updateTimeOfActivityInterval:null,updatingTxStatus:!1}},computed:{address(){const t=this.token?.chain.coinType||this.activity.chain.coinType;return this.$store.getters.accountsByCoinType[t].toLowerCase()},displayAddress(){if(this.isRecipientOnly)return this.recipient;if(this.isSenderOnly)return this.sender;switch(this.address){case this.recipient:return this.sender;case this.sender:return this.recipient;default:return this.address}},headline(){if(this.isRecipientOnly)return this.$t("general.received");if(this.isSenderOnly)return this.$t("general.sent");const t="failure"===this.txStatus;switch(this.address){case this.recipient:return t?this.$t("general.failedToReceive"):this.$t("general.receivedFrom");case this.sender:return t?this.$t("general.failedToSend"):this.$t("general.sentTo");default:return this.$t("general.unknown")}},isRecipientOnly(){return!(!this.recipient||this.sender)},isSenderOnly(){return!(this.recipient||!this.sender)},recipient(){return this.activity.to?.toLowerCase()??""},sender(){return this.activity.from?.toLowerCase()??""},status(){return this.txStatus?this.$t(`general.${this.txStatus}`):`${this.$t("general.loading")}...`},symbol(){const{token:t}=this,e="symbol"in t?t.symbol:t.contract.symbol;return e},type(){return this.activity.type},value(){let{token:t}=this;return t=Object.assign({},t,{balance:h.Z.formatNumber(this.activity.value)}),h.Z.formatNumber(g.Z.tokenDecimal(t))}},watch:{activity:{deep:!0,handler(){this.txStatus!==this.activity.status&&this.updateActivity()}},displayAddress(){this.updateAddress()}},beforeDestroy(){clearInterval(this.updateActivityInterval),clearInterval(this.updateTimeOfActivityInterval)},mounted(){this.updateActivity(),this.updateToken(),this.updateAddress(),this.updateTimeOfActivity()},methods:{assembleEvmActivity(t){const e=t.status?"success":"failure";return this.txStatus=e,{block:t.blockNumber,chain:this.activity.chain,contract:this.activity.contract??t.contractAddress,from:this.activity.from,hash:t.transactionHash,status:e,time:(new Date).getTime(),to:this.activity.to,type:this.activity.type,unindexed:!0,value:this.activity.value}},fromNow:u.ZP.fromNow,openTransactionDetail(t){const e=this.$store.getters.transactionDetailsUrl(t,this.token.chain);this.$platform.openNewTab(e)},async requestUpdatedTransactions(){if(await this.$store.dispatch("getTransactions",this.activity.chain),this.$store.getters.allTransactions.find((t=>t.hash===this.activity.hash))){const{chain:t,hash:e,type:s}=this.activity;this.$store.dispatch("clearPendingTransaction",e),this.$store.dispatch("getTokensForChain",{chain:t,type:s}),this.updateTimeOfActivity()}else{const t=this.delay[this.type]??this.BASE_DELAY;setTimeout((()=>this.requestUpdatedTransactions()),t)}},async resolveEnsAddress(){try{this.prettyAddress=await this.$ens.resolveAddress(this.displayAddress)}catch(t){}},updateActivity(){if(this.txStatus=this.activity.status,"pending"!==this.txStatus||this.updateActivityInterval){if((0,o.ij)(this.activity.chain)){const t=-1;this.txStatus=this.activity.block===t?"failure":"success"}}else{this.$nextTick((()=>this.updateTxStatus()));const t=this.delay[this.type]??this.BASE_DELAY;this.updateActivityInterval=window.setInterval(this.updateTxStatus,t)}},updateAddress(){this.prettyAddress=p.Z.elideAddress(this.displayAddress),this.resolveEnsAddress()},updateTimeOfActivity(t){clearInterval(this.updateTimeOfActivityInterval);const e=()=>{const e=(new Date).getTime(),{time:s}=this.activity;if(!t&&e-s>=u.EB)return this.updateTimeOfActivity(u.EB);this.timeOfActivity="pending"===this.txStatus?"":this.fromNow(e,s)};e(),this.updateTimeOfActivityInterval=window.setInterval(e,t??u.sh)},async updateToken(){const{contract:t,chain:e,type:s}=this.activity;if(g.Z.isNativeTokenType(s)?this.token=this.$store.getters.matchingNativeToken(s):this.token=this.$store.getters.getTokenViaSerializedKey(t,e,r.oZ.VISIBLE),!this.token&&(0,o.cA)(e)){const s=await((0,d.Z)(e).getTokenInfo?.(t));s&&(this.token=g.Z.makeEvmToken(s,e))}},async updateTxStatus(){if(this.updatingTxStatus)return;if(this.updatingTxStatus=!0,"pending"!==this.txStatus)return clearInterval(this.updateActivityInterval),void(this.updatingTxStatus=!1);const t=n.B1.find((t=>(0,o.F2)(t.chain,this.activity.chain)));if(t?.rpcUrls?.length){const[e]=t.rpcUrls,[s]=e.split("//"),i=new Map([["https:","JsonRpcProvider"],["wss:","WebSocketProvider"]]),a=i.get(s),r=new l[a](e),n=await r.waitForTransaction(this.activity.hash);"status"in n&&(clearInterval(this.updateActivityInterval),this.$store.dispatch("clearPendingTransaction",this.activity.hash),this.$store.dispatch("addTransaction",{chain:this.activity.chain,tx:this.assembleEvmActivity(n)}))}else await this.$store.dispatch("getTransactions",this.activity.chain);this.updatingTxStatus=!1}}}),v=m,f=s(1001),w=(0,f.Z)(v,i,a,!1,null,null,null),b=w.exports},6435:function(t,e,s){s.d(e,{Z:function(){return y}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex mb-8 mt-6 rtl-space-x-reverse"},[e("squircle-button",{staticClass:"t-asset_action_row-receive w-1/5",attrs:{disabled:!t.isAssetReceivable&&!t.allowGeneralActions,icon:"icon-arrow_down",text:t.$t("general.receive")},on:{click:t.goToReceive}}),e("squircle-button",{staticClass:"t-asset_action_row-send w-1/5",attrs:{disabled:!t.isAssetSendable&&!t.allowGeneralActions||!t.hasSendableAssets,icon:"icon-arrow_right_up",text:t.$t("general.send")},on:{click:t.goToSend}}),e("squircle-button",{staticClass:"t-asset_action_row-swap w-1/5",attrs:{disabled:t.isSwapButtonDisabled,icon:"icon-swap",loading:!t.isSwapReady,text:t.$t("general.swap")},on:{click:t.goToSwap}}),e("squircle-button",{staticClass:"t-asset_action_row-buy w-1/5",attrs:{disabled:!t.isAssetBuyable&&!t.allowGeneralActions||!t.hasBuyableAssets,icon:"icon-buy",text:t.$t("general.buy")},on:{click:t.goToBuy}}),e("squircle-button",{staticClass:"t-asset_action_row-sell w-1/5",attrs:{disabled:!t.isAssetSellable&&!t.allowGeneralActions||!t.hasSellableAssets,icon:"icon-arrow_down",text:t.$t("general.sell"),transform:"scale(1,-1)"},on:{click:t.goToSell}})],1)},a=[],r=(s(57658),s(47812)),n=s(79317),o=s(20629),l=s(70794),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col items-center t-squirce_button-click",class:[{"opacity-40":t.disabled&&!t.loading,"cursor-not-allowed":t.unavailable}],on:{click:function(e){!t.unavailable&&t.$emit("click")}}},[e("button",{staticClass:"bg-contain bg-squircle-desktop flex h-12 items-center justify-center mb-2 w-12",class:[{"pointer-events-none":t.unavailable}]},[t.loading?e("spinning-loader",{staticClass:"h-5 w-5",attrs:{dark:""}}):e("i",{staticClass:"text-black",class:t.icon,style:{transform:t.transform}})],1),e("span",{staticClass:"font-bold text-dark-N60 text-xs tracking-wide"},[t._v(t._s(t.text))])])},d=[],h=s(99187),p={name:"SquircleButton",components:{SpinningLoader:h.Z},props:{disabled:{default:!1,type:Boolean},icon:{default:"",type:String},loading:{default:!1,type:Boolean},text:{default:"",type:String},transform:{default:"",type:String}},computed:{unavailable(){return this.disabled||this.loading}}},u=p,g=s(1001),m=(0,g.Z)(u,c,d,!1,null,null,null),v=m.exports,f=s(69790),w=s(20144),b=w.ZP.extend({name:"AssetActionRow",components:{SquircleButton:v},props:{address:{default:"",type:String},token:{default:void 0,type:Object}},computed:{...(0,o.Se)({isSwapAvailable:"isSwapAvailable"}),allowGeneralActions(){return"TokenOverview"!==this.currentView},chain(){return this.token.chain},currentView(){return this.$route.name||""},hasBuyableAssets(){return!!this.$store.getters.buyableTokens.length&&!this.isAssetTestnet},hasSellableAssets(){return!!this.$store.getters.sellableTokens.length&&!this.isAssetTestnet},hasSendableAssets(){return this.$store.getters.ownedTokens(n.oZ.VISIBLE).some((t=>new l.Z(t.balance??0).isGreaterThan(0)))},hasSwappableAssets(){return!!this.swappableTokenFallback&&!this.isAssetTestnet},isAssetBuyable(){return this.$store.getters.isBuyable(this.chain,this.address)},isAssetReceivable(){return this.ownsAsset},isAssetSellable(){return this.$store.getters.isSellable(this.chain,this.address)&&new l.Z(this.token.balance).isGreaterThan(0)},isAssetSendable(){return this.ownsAsset&&new l.Z(this.token.balance).isGreaterThan(0)},isAssetSwappable(){return this.swapAddress&&this.$store.getters.isTokenSwappable(this.swapAddress,this.chain)},isAssetTestnet(){return this.$store.getters.isTestnet(this.chain)},isSwapButtonDisabled(){if("Overview"!==this.currentView){const{allowGeneralActions:t,hasSwappableAssets:e,isAssetSwappable:s}=this;return!s&&!t||!e}return!this.isSwapAvailable},isSwapReady(){return this.$store.getters.isSwapReady},ownsAsset(){return!!this.$store.getters.getTokenViaSerializedKey(this.address,this.chain,n.oZ.VISIBLE)},sendableTokenFallback(){return this.$store.getters.ownedTokens(n.oZ.VISIBLE).find((t=>new l.Z(t.balance??0).isGreaterThan(0)))},swapAddress(){return this.address===r.L1?r.NA:this.address},swappableTokenFallback(){return this.$store.getters.primarySwappableToken}},methods:{getStatsEventName(t){return"Overview"===this.currentView?`wt_${t}_btn`:"Assets"===this.currentView?`wt_asset_${t}`:"TokenOverview"===this.currentView?`wt_coin_${t}`:""},goToBuy(){this.sendStats("buy"),this.$router.push({name:"Buy",params:{token:this.token}})},goToReceive(){this.sendStats("receive"),this.$router.push({name:"ReceiveToken",params:{token:this.token}})},goToSell(){const t=this.isAssetSellable?this.token:this.$store.getters.sellableTokens[0];this.sendStats("sell"),this.$router.push({name:"Sell",params:{token:t}})},goToSend(){const t=this.isAssetSendable?this.token:this.sendableTokenFallback;this.sendStats("send"),this.$router.push({name:"SendToken",params:{token:t}})},goToSwap(){const t=this.isAssetSwappable?this.token:this.swappableTokenFallback;this.sendStats("swap"),this.$router.push({name:"Swap",query:{chain:JSON.stringify(t.chain),from:t.address??this.swapAddress}})},sendStats(t){const e=this.token.symbol??this.token.contract?.symbol,s=this.getStatsEventName(t);"TokenOverview"===this.currentView?f.Z.sendStatsEvent(f.Z.types.CLICK,s,{coin:e,network:this.$store.getters.getNetworkName(this.chain)}):f.Z.sendStatsEvent(f.Z.types.CLICK,s)}}}),k=b,x=(0,g.Z)(k,i,a,!1,null,"03d35724",null),y=x.exports},72232:function(t,e,s){s.d(e,{Z:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"backdrop-blur-2xl bg-dark-N16 cursor-pointer fixed h-14 right-6 rounded-full transition-opacity w-14",style:{opacity:t.showBackToTopOpacity,bottom:`${t.showBackToTopBottom}px`},on:{click:function(e){return e.stopPropagation(),t.scrollToTop.apply(null,arguments)}}},[e("img",{staticClass:"mx-auto",style:{marginTop:"23px"},attrs:{src:s(80779)}})])},a=[];const r=22,n=56,o=window.innerHeight;var l={name:"BackToTop",data(){return{showBackToTopBottom:-n,showBackToTopOpacity:0}},computed:{scrollableEl(){return this.$el.parentElement}},beforeUnmount(){this.scrollableEl.removeEventListener("scroll",this.onScroll)},mounted(){this.scrollableEl.addEventListener("scroll",this.onScroll)},methods:{onScroll(t){const e=o,{scrollTop:s}=t.target,i=s-e;if(i>0){this.showBackToTopOpacity=1;let t=-n+i;t>r&&(t=r),this.showBackToTopBottom=t}else this.showBackToTopOpacity=0},scrollToTop(){this.scrollableEl.scrollTo(0,0)}}},c=l,d=s(1001),h=(0,d.Z)(c,i,a,!1,null,null,null),p=h.exports},93822:function(t,e,s){s.d(e,{Z:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"deck"},[e("div",{staticClass:"cursor-pointer flex flex-nowrap flex-row-reverse flex-wrap justify-end overflow-visible",style:{paddingLeft:`${t.cardFoldPx}px`}},[t.deckMore?e("div",{staticClass:"align-middle bg-opacity-10 font-semibold inline-block overflow-hidden pl-1 relative rounded-xl text-center",class:t.cardMoreClasses,style:{fontSize:`${t.deckMoreFontSizePx}px`,height:`${t.cardHeightPx}px`,lineHeight:`${t.cardHeightPx}px`,marginLeft:`-${t.cardMoreFoldPx}px`,width:`${t.cardMoreWidthPx}px`},on:{click:function(e){return t.openMore(e)}}},[t.stillLoadingCount>0?e("lottie-component",{staticClass:"absolute",style:{left:0,top:0,height:`${t.cardHeightPx}px`},attrs:{src:"loader_nft_more.json"}}):t._e(),e("span",{class:[t.cardMoreFoldPx<=33.5?"ml-5":"ml-3.5"]},[t._v(t._s(t.deckMoreFriendly))])],1):t._e(),e("div",{style:{width:`${t.unusedSpacePx}px`}}),t._l(t.deckCards,(function(s,i){return e("div",{key:i,staticClass:"cursor-pointer justify-self-end",class:{"h-32":t.isHovering===i},style:{width:`${t.cardWidthPx}px`,height:`${t.cardHeightPx}px`,marginLeft:`-${t.cardFoldPx}px`,marginRight:`${0!==i&&t.cardGapPx||0}px`,zIndex:t.isHovering===i?1:0},attrs:{title:s.name},on:{click:function(e){return t.openCard(e,s)},mouseout:function(e){t.isHovering=-1},mouseover:function(e){t.isHovering=i}}},[e("lazy-image",{staticClass:"bg-center bg-input-bg inline-block object-cover overflow-hidden rounded-xl",class:"Overview"===t.$route.name?"bg-opacity-50":"bg-opacity-100",style:{transition:"transform 0.1s",transform:t.isHovering===i?"scale(1.1) translateY(-16px)":"",filter:"drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.25))",boxShadow:"1px 4px 4px 0px rgba(0, 0, 0, 0.25)",width:`${t.cardWidthPx}px`,height:`${t.cardHeightPx}px`},attrs:{placeholder:t.placeholder,src:t.getCardImage(s)}})],1)}))],2)])},a=[],r=s(10287),n=s(76501),o=s(10359);const l=8,c=80;var d={name:"CardsDeck",components:{LazyImage:r.Z,LottieComponent:n.Z},props:{cardHeightPx:{default:c,type:Number},cardMoreClasses:{default:()=>["bg-input-bg","text-dark-N12","font-medium"],type:Array},cardMoreFoldPx:{default:33.5,type:Number},cards:{default:()=>[],type:Array},layouts:{default:()=>{const[t,e,s]=[-2,-21.5,-33.5],i=[c,s],a=[c,e],r=[c,t],n=[c,l];return[i,a,r,n]},type:Array},propagateClick:{default:!1,type:Boolean},stillLoadingCount:{default:0,type:Number}},data(){return{DECK_MORE_SAFE_NUMBER:10049,cardFoldPx:0,cardGapPx:l,cardMoreWidthPx:c,cardWidthPx:c,deckLimit:null,deckWidthPx:0,isHovering:-1,placeholder:s(29738),resizeObserver:void 0,unusedSpacePx:0}},computed:{deckCards(){const{cards:t}=this,e=t.slice(0,this.getBestDeckLimit());return e},deckCardsLength(){return this.deckCards.length},deckMore(){return this.cards.length-this.deckCardsLength},deckMoreFontSizePx(){return this.deckMore<=this.DECK_MORE_SAFE_NUMBER?16:12},deckMoreFriendly(){return`+${o.Z.longNumberToFriendlyFormat(this.deckMore,1)}`}},beforeDestroy(){this.resizeObserver.disconnect()},mounted(){const t=this.$refs.deck;this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(t),this.onResize()},methods:{getBestDeckLimit(){const{layouts:t}=this,e=t.map((t=>this.getDeckLimit.apply(null,t)));e.sort(((t,e)=>t.moreCount-e.moreCount||t.unusedSpacePx-e.unusedSpacePx));const[s]=e;return this.cardWidthPx=s.cardWidthPx,s.cardShiftPx<0?(this.cardFoldPx=-s.cardShiftPx,this.cardGapPx=0):(this.cardFoldPx=0,this.cardGapPx=s.cardShiftPx),this.unusedSpacePx=s.unusedSpacePx,s.maxCardsCount},getCardImage(t){return t.image||t.collectibles?.[0].image},getDeckLimit(t,e=0,s=0){const i={},a=this.cards.length,{cardMoreFoldPx:r,cardMoreWidthPx:n,deckWidthPx:o}=this,l=o+e-s,c=t+e,d=Math.floor(l/c),h=Math.min(d,a),p=h*c-e;if(d<a&&!s)return this.getDeckLimit(t,e,n-r);const u=a-h,g=o-p-s;return Object.assign(i,{_availableSpacePx:l,cardShiftPx:e,cardWidthPx:t,cardsUsed:h,cardsWidthPx:p,deckWidthPx:o,maxCardsCount:d,moreCount:u,moreWidthPx:s,unusedSpacePx:g}),this.deckLimit=i,i},onResize(){const t=this.$refs?.deck?.clientWidth;this.deckWidthPx=t},openCard(t,e){this.propagateClick||t.stopPropagation(),this.isHovering=-1,this.$emit("openCard",e)},openMore(t){this.propagateClick||t.stopPropagation(),this.$emit("openMore")}}},h=d,p=s(1001),u=(0,p.Z)(h,i,a,!1,null,null,null),g=u.exports},10287:function(t,e,s){s.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("figure",{ref:"lazyImage",staticClass:"t-lazy_image"},[t.loading?e("spinning-loader",{staticClass:"h-full w-full"}):t._e()],1)},a=[],r=s(99187),n={name:"LazyImage",components:{SpinningLoader:r.Z},props:{placeholder:{default:"",type:String},src:{default:"",type:String}},data(){return{loading:!1}},mounted(){this.loadImage()},methods:{loadImage(){this.loading=!0;const t=new Image;t.classList.add("w-full"),t.classList.add("h-full"),t.style.borderRadius="inherit",t.style.objectFit="inherit",t.alt="",t.complete&&this.$nextTick((()=>{t.src=this.src,this.loading=!1})),t.onerror=()=>{this.$nextTick((()=>{t.src=this.placeholder,this.loading=!1}))},this.$refs.lazyImage.appendChild(t)}}},o=n,l=s(1001),c=(0,l.Z)(o,i,a,!1,null,null,null),d=c.exports},23417:function(t,e,s){s.d(e,{Z:function(){return g}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"relative"},[e("img",{staticClass:"h-11 mr-5.5 w-10",attrs:{alt:"",src:s(11264)}}),e("simple-popover",{ref:"popover",staticClass:"absolute mt-4 text-dark-N77 text-left text-sm w-80 z-10",attrs:{"caret-horizontal-position":"left-[14px]"}},[e("p",[t._v(t._s(t.$t("operaPoints.connectWallet")))]),e("br"),e("p",{staticClass:"cursor-pointer flex font-semibold items-center text-brand-primary",on:{click:function(e){return t.goToCashbackUrl(t.CASHBACK_ABOUT_OP_URL)}}},[e("img",{staticClass:"inline mr-3 w-3",attrs:{src:s(85048)}}),t._v(" "+t._s(t.$t("cashback.learnAboutOperaPoints"))+" ")])]),t.isOperaServiceActive("operaPoints")?t._e():e("span",{staticClass:"absolute bottom-0 flex h-5 right-4 w-5",on:{mouseout:t.hidePopover,mouseover:t.showPopover}},[t._m(0)])],1)},a=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"h-full relative w-full"},[e("span",{staticClass:"absolute animate-pulse bg-brand-primary h-5 inline-flex left-0 opacity-5 rounded-full top-0 w-5"}),e("span",{staticClass:"bg-brand-primary h-3 inline-flex mb-0.5 relative rounded-full w-3"})])}],r=s(61201),n=s(20629),o=s(18135),l=s(20144);const c=(0,r.r8)()?"cashback.op-test.net":"cashback.opera.com";var d=l.ZP.extend({name:"OperaPointsLogo",components:{SimplePopover:o.Z},data(){return{CASHBACK_ABOUT_OP_URL:`https://${c}/opera-points`}},computed:{...(0,n.Se)({isOperaServiceActive:"isOperaServiceActive"}),popover(){return this.$refs.popover}},methods:{goToCashbackUrl(t){this.$platform.createNewTab({url:t})},hidePopover(){this.popover.hide(100)},showPopover(){this.popover.show()}}}),h=d,p=s(1001),u=(0,p.Z)(h,i,a,!1,null,null,null),g=u.exports},37293:function(t,e,s){s.r(e),s.d(e,{default:function(){return Rt}});var i=function(){var t=this,e=t._self._c;return e("div",{key:t.timesViewUpdated,ref:"container",staticClass:"bg-65 bg-cover bg-no-repeat bg-overview-background h-full overflow-x-hidden"},[e("div",{staticClass:"px-12 py-4",class:[{"bg-overview-background-gradient":t.newsGradientBg}]},[e("div",{staticClass:"flex flex-row"},[e("h1",{staticClass:"flex-grow font-bold ml-3.5 my-7 t-overview_toolbar-wallet_name text-3xl text-left tracking-wider"},[t._v(" "+t._s(t.productName)+" ")]),e("a",{staticClass:"cursor-pointer mr-6 mt-8 t-overview_toolbar-settings",on:{click:t.goToSettings}},[e("img",{staticClass:"h-6 t-overview_toolbar-settings w-6",attrs:{src:s(23816)}})])]),t.token?e("asset-action-row",{attrs:{address:t.address,token:t.token}}):e("div",{staticClass:"h-24"}),e("center",{staticClass:"mb-6 relative"},[t.showOperaPointsBurger?e("opera-points-burger"):e("div",{staticClass:"m-12"}),e("assets-burger",{class:[{"-mt-8":t.showOperaPointsBurger}],attrs:{loading:!t.token}}),e("div",{staticClass:"m-8"}),e("nfts-burger")],1),e("overview-transactions"),e("watchlist-widget")],1),t.showNews?e("div",{staticClass:"px-0"},[e("crypto-news",{on:{heightChange:t.setCryptoCornerHeight}})],1):t._e(),e("back-to-top")],1)},a=[],r=(s(84633),s(57658),s(75546)),n=s(79317),o=s(20629),l=s(6435),c=function(){var t=this,e=t._self._c;return e("patty-burger",{staticClass:"min-h-[184px]",attrs:{"show-arrow":"","test-parent-name":"assets_burger",title:t.$t("general.assets")},on:{click:t.openAssets}},[e("div",[t.hasNoAssets&&!t.loading?e("div",{staticClass:"font-bold mb-1 t-assets_burger-no_assets text-accent-dark text-left"},[e("span",{staticClass:"text-left"},[t._v(t._s(t.$t("general.youDontOwnAnyAssets")))])]):t._e(),e("div",{staticClass:"font-semibold t-assets-balance text-left text-white tracking-widest truncate",class:{"text-5xl":t.balanceFriendlyLength<=6,"text-4xl":t.balanceFriendlyLength>6&&t.balanceFriendlyLength<=12,"text-3xl":t.balanceFriendlyLength>12&&t.balanceFriendlyLength<=18,"text-2xl":t.balanceFriendlyLength>24},style:{textShadow:"2px 2px 2px rgba(0, 0, 0, 0.2)"}},[t._v(" "+t._s(t.balanceFriendly)+" ")])]),t.ownedTokens.length?e("tokens-kan",{attrs:{tokens:t.ownedTokens},on:{openMore:t.openAssets,openToken:t.openToken}}):t._e(),t.ownedTokens.length?t._e():e("div",{staticClass:"flex"},[e("div",{staticClass:"flex-1 grow"}),e("img",{staticClass:"-mt-6 h-18 mb-0.5",attrs:{src:s(39009)}})])],1)},d=[],h=s(70794),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-accent px-8.5 py-2.5 relative rounded-3xl",class:{"cursor-pointer":t.showArrow},on:{click:function(e){t.showArrow&&t.$emit("click")}}},[e("div",{staticClass:"font-bold my-3 text-2xl text-dark-N16 text-left",class:[{"cursor-pointer":t.showArrow},`t-burger-${t.testParentName}`],on:{click:function(e){e.stopPropagation(),t.showArrow&&t.$emit("click")}}},[t._v(" "+t._s(t.title)+" ")]),t.showArrow?e("div",{staticClass:"absolute icon-arrow_right right-8 text-black top-6",class:[`t-burger_arrow-${t.testParentName}`],on:{click:function(e){return e.stopPropagation(),t.$emit("click")}}}):t._e(),t.showModal?e("div",{staticClass:"absolute bg right-16 text-black top-6"},[e("div",{staticClass:"flex flex-row gap-5"},[e("img",{staticClass:"fill-dark-N16 h-6 w-6",attrs:{src:s(47456)},on:{mouseenter:function(e){t.errorModal=!0},mouseleave:function(e){t.errorModal=!1}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorModal,expression:"errorModal"}],staticClass:"-right-9 -top-36 absolute bg-dark-N16 font-semibold leading-5 p-7 rounded-xl text-dark-N77 text-xs w-72 z-30"},[e("div",{staticClass:"-bottom-24 -right-24 border-t-8 border-t-dark-N16 border-x-8 border-x-transparent h-0 relative w-0 z-50"}),t._v(" "+t._s(t.$t("errors.loadNftsModal"))+" ")])])]):t._e(),t._t("default")],2)},u=[],g={name:"PattyBurger",props:{showArrow:{default:!1,type:Boolean},showModal:{default:!1,type:Boolean},testParentName:{default:void 0,type:String},title:{default:void 0,type:String}},data(){return{errorModal:!1}}},m=g,v=s(1001),f=(0,v.Z)(m,p,u,!1,null,null,null),w=f.exports,b=s(69790),k=function(){var t=this,e=t._self._c;return e("div",{ref:"tokensDeck",staticClass:"cursor-pointer flex flex-row mb-5 mt-4.5 relative",class:{"justify-between":!!t.ownedTokensDeckMore},staticStyle:{gap:"7px"}},[t.ownedTokensDeckMore?t._e():e("div",{staticClass:"flex-1 grow"}),t._l(t.ownedTokensDeckCoins,(function(s,i){return e("div",{key:i,staticClass:"h-7.5 w-7.5",attrs:{title:s._title},on:{click:function(e){return e.stopPropagation(),t.openToken(s)},mouseout:function(e){t.isHovering===i&&t.setIsHovering(t.VOID_INDEX)},mouseover:function(e){t.isHovering===t.VOID_INDEX&&t.setIsHovering(i)}}},[e("token-icon",{staticClass:"h-7.5 w-7.5",style:{transition:"all 0.2s",transform:t.isHovering===i?"scale(1.18)":""},attrs:{address:s.contract.contract.toLowerCase(),chain:s.chain,type:s.contract.type}})],1)})),t.ownedTokensDeckMore?e("div",{staticClass:"flex-1 grow hidden"}):t._e(),t.ownedTokensDeckMore?e("div",{ref:"moreButton",staticClass:"bg-input-bg bg-opacity-10 flex font-semibold h-7.5 items-center justify-center rounded-full text-center text-dark-N12 text-sm",style:{width:`${t.ownedTokensDeckMoreWidth}px`},on:{click:function(e){return e.stopPropagation(),t.openMore.apply(null,arguments)}}},[e("div",{staticClass:"min-w-7"},[t._v(" "+t._s(t.ownedTokensDeckMoreFriendly)+" ")])]):t._e()],2)},x=[],y=s(92266),C=s(10359),_={name:"TokensKan",components:{TokenIcon:y.Z},props:{tokens:{default:()=>[],type:Array}},data(){const t=-1;return{VOID_INDEX:t,isHovering:t,tokensDeckMore:0,tokensDeckWidth:0}},computed:{ownedTokensDeckCoins(){const t=this.tokens.slice(0,this.getTokensDeckLimit());return t},ownedTokensDeckCoinsLength(){return this.ownedTokensDeckCoins.length},ownedTokensDeckMore(){return this.tokens.length-this.ownedTokensDeckCoinsLength},ownedTokensDeckMoreFriendly(){return`+${C.Z.longNumberToFriendlyFormat(this.ownedTokensDeckMore,1)}`},ownedTokensDeckMoreWidth(){const[t,e,s]=[44,49,58];return this.ownedTokensDeckMore<=9?t:this.ownedTokensDeckMore<=99?e:s}},beforeDestroy(){this.resizeObserver.disconnect()},mounted(){const t=this.$refs.tokensDeck;this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(t),this.onResize()},methods:{getTokensDeckLimit(){const t=7,e=30,s=this.tokensDeckMore&&this.$refs?.moreButton?.clientWidth||0;let i=this.tokensDeckWidth+t,a=Math.floor(i/(e+t));a<this.tokens.length?(i=this.tokensDeckWidth-s,a=Math.floor(i/(e+t)),this.tokensDeckMore=this.tokens.length-a):this.tokensDeckMore=0;const r=7;return Math.min(a,r)},onResize(){const t=this.$refs?.tokensDeck?.clientWidth;this.tokensDeckWidth=t},openMore(){this.$emit("openMore")},openToken(t){this.setIsHovering(this.VOID_INDEX),this.$emit("openToken",t)},setIsHovering(t){this.isHovering=t}}},T=_,S=(0,v.Z)(T,k,x,!1,null,null,null),A=S.exports,$=s(37426),P={name:"AssetsBurger",components:{PattyBurger:w,TokensKan:A},props:{loading:{default:!1,type:Boolean}},computed:{balance(){return this.$store.getters.accountBalance},balanceFriendly(){return this.$store.getters.accountBalanceFriendly},balanceFriendlyLength(){return String(this.balanceFriendly).length},hasNoAssets(){return this.balance.isZero()&&!this.$store.getters.allFungibleTokens(n.oZ.VISIBLE).length},ownedTokens(){const t=this.$store.getters.ownedTokens(n.oZ.VISIBLE).filter((t=>(0,h.Z)(t.balance??0).isGreaterThan(0))).map((t=>{const e=Object.assign({},t,{_title:`${C.Z.formatNumber($.Z.tokenDecimal(t))} ${t.contract.symbol}`});return e}));return this.$store.getters.tokenListAdjustedToSettings(t)},tokensLoading(){return this.$store.getters.isLoading("tokens")}},methods:{openAssets(){b.Z.sendStatsEvent(b.Z.types.CLICK,"wt_asset_btn"),this.$router.push("assets")},openToken(t){b.Z.sendStatsEvent(b.Z.types.CLICK,"wt_asset_btn"),this.$router.push({name:"TokenOverview",query:{address:t.contract.contract,chain:JSON.stringify(t.chain),symbol:t.contract.symbol}})}}},O=P,L=(0,v.Z)(O,c,d,!1,null,null,null),N=L.exports,Z=s(72232),D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-background-news",class:[{"pt-6":!!t.height}]},[e("iframe",{staticClass:"pl-9 w-full",style:{height:`${t.height}px`},attrs:{id:"CryptoCorner",scrolling:"no",src:t.url}})])},B=[],E=s(61201),I={name:"CryptoNews",data(){return{height:0}},computed:{url(){return(0,E.r8)()?"https://m.crypto-corner.op-test.net/?origin=iframe":"https://m.crypto-corner.opera.com/?origin=iframe"}},watch:{height(t){this.$emit("heightChange",t)}},created(){window.addEventListener("message",this.updateHeight.bind(this))},methods:{updateHeight(t){if(t.origin===new URL(this.url).origin&&"iframeheght"===t.data.code){const e=parseInt(t.data.text,10);this.height=e}}}},F=I,M=(0,v.Z)(F,D,B,!1,null,null,null),R=M.exports,H=function(){var t=this,e=t._self._c;return e("patty-burger",{attrs:{"show-arrow":"","show-modal":t.someNftsUnavailable,"test-parent-name":"nfts_burger",title:t.$t("general.collectibles")},on:{click:t.openNfts}},[t.noNftsAvailable?e("div",{staticClass:"font-bold mb-9 text-dark-N12 text-left"},[e("div",{staticClass:"mb-2 mt-9 opacity-60"},[t._v(" "+t._s(t.$t("errors.couldntLoadNfts"))+" ")]),e("div",{staticClass:"flex items-center"},[e("img",{staticClass:"h-4 mr-2 w-4",attrs:{src:s(4286)},on:{click:function(e){return e.stopPropagation(),t.reloadNfts.apply(null,arguments)}}}),e("p",[t._v(" "+t._s(t.$t("general.tryAgain"))+" ")])])]):t._e(),t.cards&&t.cards.length?e("cards-deck",{staticClass:"my-5",attrs:{cards:t.cards,"still-loading-count":t.nftsLoading?1:0},on:{openCard:t.openNft,openMore:t.openNfts}}):t.nftError||t.nftsLoading?t._e():e("div",{staticClass:"algin-right mb-6 mt-4"},[e("div",{staticClass:"font-bold text-accent-dark text-left"},[e("div",{staticClass:"t-nfts_burger-no_nfts text-left"},[t._v(" "+t._s(t.$t("general.youDontOwnAnyCollectibles"))+" ")])]),e("div",{staticClass:"flex h-14"},[e("div",{staticClass:"flex-1 grow"}),e("img",{staticClass:"-my-0.5 h-20",attrs:{src:s(84814)}})])]),t.nftsLoading?e("div",{staticClass:"flex h-24 justify-center"},[e("lottie-component",{staticClass:"-mb-28 -mt-10 h-44",attrs:{src:"loader_nft.json"}})],1):t._e()],1)},W=[],z=s(93822),V=s(76501),j={name:"NftsBurger",components:{CardsDeck:z.Z,LottieComponent:V.Z,PattyBurger:w},computed:{cards(){const{allCollectibles:t}=this.$store.getters,e=t.sort(((t,e)=>t.name.localeCompare(e.name)));return e},nftError(){return Object.values(this.$store.getters.nftError).some((t=>t))},nftsLoading(){return this.$store.getters.isLoading("nfts")},noNftsAvailable(){return!this.nftsLoading&&this.nftError&&!this.cards.length},someNftsUnavailable(){return this.nftError&&this.cards}},methods:{openNft(t){b.Z.sendStatsEvent(b.Z.types.CLICK,"wt_nft_btn"),t.collectibles?this.$router.push({name:"CollectionView",params:{collection:t}}):this.$router.push({name:"CollectibleView",params:{collectible:t,collection:t.collection}})},openNfts(){b.Z.sendStatsEvent(b.Z.types.CLICK,"wt_nft_btn"),this.$router.push({name:"CollectionsView"})},async reloadNfts(){return await this.$store.dispatch("getAllNfts")}}},U=j,G=(0,v.Z)(U,H,W,!1,null,null,null),q=G.exports,K=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"before:backdrop-blur-[27px] before:bg-dark-N77-op10 before:rounded-[22px] flex h-32 items-start px-8 relative t-opera_points_burger",class:[{"cursor-pointer":t.isOperaPointsActive}],on:{click:t.burgerClick}},[e("div",{staticClass:"flex items-center justify-between w-full z-10",class:""+(t.isOperaPointsActive&&!t.isLoading("operaPoints")?"mt-5":"mt-6")},[e("div",{staticClass:"flex items-center justify-start"},[e("opera-points-logo"),t.isOperaPointsActive?e("div",{staticClass:"flex flex-col font-semibold"},[t.isLoading("operaPoints")?e("div",{staticClass:"flex flex-col"},[e("lottie-component",{staticClass:"h-5 w-52",attrs:{src:"loader_op.json"}}),e("lottie-component",{staticClass:"h-5 mt-2 w-40",attrs:{src:"loader_op.json"}})],1):e("div",[e("div",{staticClass:"flex text-2xl"},[e("p",{staticClass:"mr-1.5"},[t._v(t._s(t.operaPointsAmountFriendly))]),e("p",{staticClass:"text-dark-N77"},[t._v(t._s(t.$t("general.operaPoints")))])]),t.operaPointsAmount>0?e("div",{staticClass:"flex items-center text-dark-N77"},[e("p",[t._v(t._s(t.localizeCurrency(t.operaPointsAmountFiat.toString())))])]):e("p",{staticClass:"text-accent text-left text-sm"},[t._v(" "+t._s(t.$t("operaPoints.startEarningPoints"))+" ")])])]):e("div",{staticClass:"flex flex-col font-semibold text-left"},[e("p",{staticClass:"text-dark-N77"},[t._v(t._s(t.$t("cashback.useCashbackEarnMore")))]),e("p",{staticClass:"cursor-pointer text-accent text-sm",on:{click:function(e){return t.initCashbackActivation()}}},[t._v(" "+t._s(t.$t("operaPoints.activateOperaPoints"))+" ")])])],1),t.isOperaPointsActive?e("div",{staticClass:"icon-arrow_right text-dark-N77"}):e("img",{staticClass:"cursor-pointer h-4 text-dark-N77 w-4",attrs:{src:s(50420)},on:{click:function(e){return t.setShowOperaPointsBurger(!1)}}})])])},X=[],Y=s(15301),J=s(23417),Q=s(20144),tt=s(39624),et=Q.ZP.extend({name:"OperaPointsBurger",components:{LottieComponent:V.Z,OperaPointsLogo:J.Z},computed:{...(0,o.Se)({isLoading:"isLoading",isOperaServiceActive:"isOperaServiceActive",operaAccount:"operaAccount",operaAccountSessionError:"operaAccountSessionError",operaPointsAmount:"operaPointsAmount",operaPointsAmountFiat:"operaPointsAmountFiat",operaServicesSupported:"operaServicesSupported"}),isOperaPointsActive(){return this.isOperaServiceActive(r.SupportedOperaServices.OperaPoints)},operaPointsAmountFriendly(){const{longNumberToFriendlyFormat:t,operaPointsAmount:e}=this;return t(e,2)},popup(){return this.$refs.multiPurposePopup}},methods:{...(0,o.nv)(["getPerpetualCashbackConnectionStatus","setAutoActivateNextOperaService","setShowOperaPointsBurger"]),burgerClick(){this.operaServicesSupported?this.isOperaPointsActive&&this.$router.push("/operapoints"):this.showBrowserUpdateRequest()},async initCashbackActivation(){const t=this.operaAccount.loggedIn,e=await this.getPerpetualCashbackConnectionStatus();this.operaAccountSessionError?this.showOperaAccountSessionErrorPopup():this.operaServicesSupported?t&&e?this.showOperaAccountAuthPopup():this.isOperaServiceActive(r.SupportedOperaServices.OperaAccount)?this.$router.push("/cashback-onboarding"):this.$router.push({name:"Settings",params:{initCashbackActivation:JSON.stringify(!0)}}):this.showBrowserUpdateRequest()},localizeCurrency:C.Z.localizeCurrency,longNumberToFriendlyFormat:C.Z.longNumberToFriendlyFormat,showBrowserUpdateRequest(){this.$popupManager=(0,Y.ps)((()=>this.$platform.createNewTab({url:tt["default"].browserUpdateURI})),98)},showOperaAccountAuthPopup(){this.$popupManager={type:"operaAccountAuth"}},showOperaAccountSessionErrorPopup(){this.$popupManager=(0,Y.oE)(this.$t("cashback.cashbackConnectError"))}}}),st=et,it=(0,v.Z)(st,K,X,!1,null,"7e8ce169",null),at=it.exports,rt=function(){var t=this,e=t._self._c;return e("div",{key:t.timesTransactionsUpdated,style:{transition:t.transactionsLoading?"":"height 0.2s ease-in",height:`${t.calculateHeight}px`,overflow:"hidden"}},[e("div",{staticClass:"relative w-full"},[e("TransitionGroup",{attrs:{name:t.transactionsLoading?"":"fade",tag:"div"}},t._l(t.itemsList,(function(s,i){return e("div",{key:t.getKey(s,i),staticClass:"overflow-hidden w-full"},["loader"===s.type?e("div",[e("div",{staticClass:"bg-dark-N16 my-1.5 p-4 rounded-lg"},[e("div",{staticClass:"h-6"},[e("lottie-component",{staticClass:"h-6",attrs:{src:"loader_tx.json"}})],1)])]):"more"===s.type?e("div",[e("div",{staticClass:"bg-dark-N16 my-1.5 p-4 rounded-lg"},[e("a",{staticClass:"relative t-overview-show_notifications",attrs:{role:"button",tabindex:"0"},on:{click:function(e){return t.$router.push("notifications")}}},[e("div",{staticClass:"font-bold leading-6 text-center text-dark-N77 text-sm text-white tracking-wide"},[t._v(" "+t._s(t.allTransactionsText)+" ")]),e("div",{staticClass:"absolute right-0 top-0"},[e("div",{staticClass:"icon-arrow_right right-8 text-dark-N77 top-6"})])])])]):e("div",[e("div",{staticClass:"-my-1.5"},[e("activity-item",{attrs:{activity:s}})],1)])])})),0)],1)])},nt=[],ot=s(36080),lt=s(9502);const ct=2,dt=84,ht=68;var pt={name:"OverviewTransactions",components:{ActivityItem:ot.Z,LottieComponent:V.Z},data(){return{timesTransactionsUpdated:0}},computed:{allTransactionsText(){return lt.Z.capitalizeAllWords(this.$t("components.overviewTransactions.allTransactions"))},calculateHeight(){const t=this.itemsList;let e=0;t.length&&(e+=18);for(const s of t)"more"===s.type||"loader"===s.type?e+=ht:e+=dt;return e},hasPendingTransactions(){return this.$store.getters.getPendingTransactions.length},itemsList(){const t=[];return this.transactionsLoading?(t.push(...this.latestTransactions.slice(0,2)),this.latestTransactions.length&&t.push({hash:"_footer",type:"loader"})):(t.push(...this.latestTransactions),t.length>0&&(t.splice(ct),t.push({hash:"_footer",type:"more"}))),t},latestTransactions(){const{latestTransactions:t}=this.$store.getters;return t},transactionsLoading(){return!this.hasPendingTransactions&&this.$store.getters.isLoading("transactions")}},watch:{hasPendingTransactions(){this.timesTransactionsUpdated+=1}},async activated(){await this.$store.dispatch("clearExpiredApproval"),this.clearExpiredTransactions()},async created(){await this.$store.dispatch("getAllTransactions")},methods:{clearExpiredTransactions(){this.latestTransactions.every((t=>"pending"!==t.status))&&this.$store.dispatch("clearPendingTransactions")},getKey(t,e){return`el_${e}-${t.hash}`}}},ut=pt,gt=(0,v.Z)(ut,rt,nt,!1,null,"5fd41cb4",null),mt=gt.exports,vt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"flex font-bold items-baseline justify-between mx-4 my-5"},[e("h1",{staticClass:"-ml-0.5 t-watchlist_title text-2xl tracking-wider"},[t._v(" "+t._s(t.$t("general.watchlist"))+" ")]),t.watchlist.length?e("a",{staticClass:"cursor-pointer font-bold t-watchlist_widget-edit text-accent text-sm",on:{click:function(e){return t.$router.push({name:"WatchListSettings"})}}},[t._v(" "+t._s(t.$t("general.edit"))+" ")]):t._e()]),t.watchlist.length?e("transition-group",{staticClass:"flex flex-row my-4 overflow-x-auto pb-4 rtl-space-x-reverse space-x-4 t-watchlist",attrs:{appear:"",name:"item-transition",tag:"div"}},t._l(t.watchlist,(function(t,s){return e("watchlist-card",{key:t.symbol,style:{"--i":s},attrs:{token:t}})})),1):e("div",{staticClass:"bg-dark-N16 cursor-pointer flex items-center px-5 py-7 rounded-2.5xl t-watchlist_widget-settings",on:{click:function(e){return t.$router.push({name:"WatchListSettings"})}}},[e("lottie-component",{staticClass:"h-14 w-14",attrs:{src:"empty_watchlist_placeholder.json"}}),e("div",{staticClass:"flex-1 ms-5"},[e("div",{staticClass:"font-bold mb-1 text-sm text-white"},[t._v(" "+t._s(t.$t("components.watchlistWidget.watchlistEmpty"))+" ")]),e("div",{staticClass:"text-dark-N77 text-sm"},[t._v(" "+t._s(t.$t("components.watchlistWidget.startBuildingWatchlist"))+" ")])])],1)],1)},ft=[],wt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-opacity-5 bg-white cursor-pointer flex-shrink-0 min-w-min p-4 rounded-xl t-watchlist_card-click w-32",on:{click:function(e){return t.onClick(t.token)}}},[e("div",{staticClass:"flex items-center mb-3"},[e("token-icon",{staticClass:"h-6 w-6",attrs:{address:t.token.address.toLowerCase(),chain:t.chain}}),e("span",{staticClass:"font-bold ms-2 text-md text-white"},[t._v(t._s(t.token.symbol))])],1),e("div",{staticClass:"font-light text-md text-white",class:{"-mx-2":String(t.rate).length>12}},[t._v(" "+t._s(t.rate)+" ")]),t.chartData&&t.chartData.length?e("div",{staticClass:"mb-2"},[e("i",{class:`icon-${t.incremental>=0?"triangle-up":"triangle-down"} mr-2`,style:{fontSize:"0.5rem",color:t.incremental>=0?"#3DF28E":"#FF5F68"}}),e("span",{staticClass:"font-semibold text-sm"},[t._v(t._s(t.priceChangePercentage))])]):t._e(),t.chartData&&t.chartData.length?e("trend-graph",{staticClass:"-mx-4",attrs:{"data-source":t.chartData,height:52,index:t.token.symbol,width:128}}):t._e()],1)},bt=[],kt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("canvas",{ref:"canvasRef",attrs:{id:`canvas-${t.index}`,height:t.height,width:t.width}})])},xt=[];const yt=(t,e)=>{const s=parseInt(`0x${t.slice(1,3)}`),i=parseInt(`0x${t.slice(3,5)}`),a=parseInt(`0x${t.slice(5,7)}`);return`rgba(${s}, ${i}, ${a}, ${e})`};var Ct={name:"TrendGraph",props:{dataSource:{default:()=>[],type:Array},height:{default:48,type:[Number,String]},index:{default:0,type:[Number,String]},width:{default:128,type:[Number,String]}},mounted(){const t=this.createCanvas(this.$refs.canvasRef,this.width,this.height);t&&this.initCanvas(t)},methods:{color(t){return t.length<2?"#FFF":t[t.length-1]-t[0]>=0?"#3DF28E":"#FF5F68"},createCanvas(t,e,s){const i=window.devicePixelRatio||1,a=t.getContext("2d");return t.width=Number(e)*i,t.height=Number(s)*i,t.style.width=`${e}px`,t.style.height=`${s}px`,a&&(a.translate(0,t.height),a.scale(i,-i)),a},drawCurve(t,e=!0){const s=this.dataSource,i=Math.min(...s),a=Math.max(...s),r=Number(this.width)/(s.length-1),n=Number(this.height)/(a-i);s.forEach(((a,o)=>{const l=r*o,c=(Number(a)-i)*n;if(o<s.length-1){const a=r*(o+1),d=(Number(s[o+1])-i)*n,h=this.getMidPos([l,c],[a,d]);if(this.plotPath({ctx:t,drawLine:e,index:o,mid1:h,p1X:l,p1Y:c}),o<s.length-2){const l=r*(o+2),c=(Number(s[o+2])-i)*n,p=this.getMidPos([a,d],[l,c]);e&&(t.beginPath(),t.moveTo(...h)),t.quadraticCurveTo(a,d,...p),e&&t.stroke(),o===s.length-3&&(e&&t.beginPath(),t.moveTo(...p),t.lineTo(l,c),e?t.stroke():t.lineTo(l,0),t.lineTo(0,0))}}}))},drawShadow(t,e){this.drawCurve(t,!1);const s=t.createLinearGradient(50,0,50,200);s.addColorStop(0,yt(e,0)),s.addColorStop(1,e),t.fillStyle=s,t.fill()},getMidPos(t,e){const s=(t[0]+e[0])/2,i=(t[1]+e[1])/2;return[s,i]},initCanvas(t){const e=this.color(this.dataSource);t.strokeStyle=e,this.drawCurve(t),this.drawShadow(t,e)},plotPath({index:t,ctx:e,drawLine:s,p1X:i,p1Y:a,mid1:r}){0===t&&(e.beginPath(),s?e.moveTo(i,a):e.moveTo(0,0),!s&&e.lineTo(i,a),e.lineTo(...r),s&&e.stroke())}}},_t=Ct,Tt=(0,v.Z)(_t,kt,xt,!1,null,null,null),St=Tt.exports,At=s(17113),$t={name:"WatchlistCard",components:{TokenIcon:y.Z,TrendGraph:St},props:{token:{default:void 0,type:Object}},data(){return{chartData:[]}},computed:{chain(){return this.token?.chain},incremental(){const t=this.chartData,e=t.length;return e>0?t[e-1]-t[0]:0},isTokenSupported(){const{allSupportedTokens:t}=this.$store.getters;return this.$store.getters.getToken(this.token.address,this.chain,t(n.oZ.ALL))},priceChangePercentage(){const t=this.incremental/this.chartData[0]*100;return C.Z.localizePercentage(t)},rate(){let t=this.$store.getters.getPriceForToken(this.token);return t||(t=0),C.Z.localizeCurrency(t)}},created(){this.DATA_LENGTH="60",this.fetchData()},methods:{async fetchData(){const t=await At.Z.getHistorical(this.token.symbol,this.DATA_LENGTH,"1m");t&&t.data&&Array.isArray(t.data.data)&&(this.chartData=t.data.data.sort(((t,e)=>t.time-e.time)).map((t=>t.price)))},onClick(t){const e=this.isTokenSupported;e?this.$router.push({name:"TokenOverview",query:{address:t.address,chain:JSON.stringify(t.chain),symbol:t.symbol}}):this.$router.push({name:"WatchlistDetails",query:{address:t.address,name:t.name,symbol:t.symbol}})}}},Pt=$t,Ot=(0,v.Z)(Pt,wt,bt,!1,null,null,null),Lt=Ot.exports,Nt={name:"WatchlistWidget",components:{LottieComponent:V.Z,WatchlistCard:Lt},computed:{watchlist(){return this.$store.getters.watchlist}}},Zt=Nt,Dt=(0,v.Z)(Zt,vt,ft,!1,null,"855612b2",null),Bt=Dt.exports,Et=s(25108),It={name:"OverviewDashboard",components:{AssetActionRow:l.Z,AssetsBurger:N,BackToTop:Z.Z,CryptoNews:R,NftsBurger:q,OperaPointsBurger:at,OverviewTransactions:mt,WatchlistWidget:Bt},beforeRouteEnter(t,e,s){s((t=>{t.$store.dispatch("setOnboardingOngoing",!1)}))},beforeRouteLeave(t,e,s){Object.assign(this.$scrollKeeper,{"overview-container-scroll":this.$refs.container.scrollTop,"overview-watchlist-scroll":this.$el.querySelector(".t-watchlist")?.scrollLeft||0}),s()},data(){return{cryptoCornerHeight:0,productName:"Opera Wallet",scroll:0,timesViewUpdated:0}},computed:{...(0,o.Se)(["accountsByCoinType","allNfts","getTimesLoaded","isLoading","isLoadedForAllVisibleChains","isOperaServiceActive","ownedTokens","showNews","showOperaPointsBurger","swappableTokensFlat"]),address(){return this.visibleOwnedTokens[0]?.contract.contract},isLoadingTokens(){return this.isLoading("tokens")},isVisibleTokensLoaded(){return this.isLoadedForAllVisibleChains("tokens")},newsGradientBg(){return this.showNews&&!!this.cryptoCornerHeight},token(){return this.visibleOwnedTokens[0]},visibleOwnedTokens(){return this.ownedTokens(n.oZ.VISIBLE)}},watch:{accountsByCoinType:{deep:!0,handler(){this.timesViewUpdated+=1}},showNews(t){t||(this.cryptoCornerHeight=0)}},async activated(){this.isLoadingTokens||this.isVisibleTokensLoaded||await this.configureTokens(),await this.configureSwappableTokens(),this.allNfts.length||await this.getAllNfts(),this.configureScrollPositioning()},async created(){if(b.Z.sendStatsEvent(b.Z.types.IMPRESSION,"wt_front_page"),this.isOperaServiceActive(r.SupportedOperaServices.OperaPoints)&&!this.getTimesLoaded("operaPoints"))try{await this.getOperaPointsData()}catch(t){Et.error("GET_OPERA_POINTS_DATA:ERROR",t)}},methods:{...(0,o.nv)(["getAllNfts","getAllTokens","getAllTokenPrices","getOperaPointsData","getSwappableTokens","updateSwappableTokens"]),configureScrollPositioning(){setImmediate((()=>{this.$refs.container&&(this.$refs.container.scrollTop=this.$scrollKeeper["overview-container-scroll"]||0);const t=this.$el.querySelector(".t-watchlist");t&&(t.scrollLeft=this.$scrollKeeper["overview-watchlist-scroll"]||0)}))},async configureSwappableTokens(){this.swappableTokensFlat.length?this.getTimesLoaded("swappableTokens")||await this.updateSwappableTokens():await this.getSwappableTokens()},async configureTokens(){await this.getAllTokens(n.oZ.ALL),await this.getAllTokenPrices()},goToSettings(){this.$router.push("settings")},setCryptoCornerHeight(t){this.cryptoCornerHeight=t}}},Ft=It,Mt=(0,v.Z)(Ft,i,a,!1,null,null,null),Rt=Mt.exports},29738:function(t,e,s){t.exports=s.p+"img/collectible_placeholder.76169588.svg"},39009:function(t,e,s){t.exports=s.p+"img/empty_assets.49ddba55.svg"},84814:function(t,e,s){t.exports=s.p+"img/empty_nfts.5db12a65.svg"},27176:function(t,e,s){t.exports=s.p+"img/complete_big.fe2ecc72.svg"},71643:function(t,e,s){t.exports=s.p+"img/in_progress_big.35353198.svg"},80779:function(t,e,s){t.exports=s.p+"img/chevron_up.316e082e.svg"},23816:function(t,e,s){t.exports=s.p+"img/cog.a0203a09.svg"},85048:function(t,e,s){t.exports=s.p+"img/external_link_cyan.ca83253e.svg"},11264:function(t,e,s){t.exports=s.p+"img/opera_token_icon.3a4907cf.svg"},4286:function(t,e,s){t.exports=s.p+"img/reload_nfts.32e9429a.svg"},47456:function(t,e,s){t.exports=s.p+"img/warning_circle_dark.b4231eac.svg"}}]);