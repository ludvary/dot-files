(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[4627],{19436:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,"[data-v-5fffe065] .app-confirm-cancel{--color-bg: transparent;max-width:290px;position:relative;padding:12px 15px}[data-v-5fffe065] .app-confirm-cancel .app-confirm-cancel-message{text-align:left}[data-v-5fffe065] .app-confirm-cancel .button{padding:6px 13px;font-size:.8rem}",""]);const r=n},38507:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,".session-detail[data-v-3f263805]{padding:0 calc(var(--app-padding) - (var(--width) - 100%)) 0 var(--app-padding)}.session-detail .window[data-v-3f263805]:not(:last-child){margin-bottom:8px}.session-detail .window .window-label[data-v-3f263805]{padding:6px 0;color:var(--color-stop-4);font-size:.75rem;font-weight:700;text-transform:uppercase;cursor:pointer}.session-detail .window:first-child .window-label[data-v-3f263805]{padding-top:0}.session-detail .window .group[data-v-3f263805]{margin:8px 0 4px;padding-left:10px;border-left:2px solid var(--tab-group-color)}.session-detail .window .group .group-label[data-v-3f263805]{padding-bottom:4px;color:var(--tab-group-color);font-size:.75rem;font-weight:700;text-transform:uppercase;cursor:pointer}",""]);const r=n},42675:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,".light{--tab-group-color-blue: #2474e4;--tab-group-color-cyan: #147b82;--tab-group-color-green: #22803d;--tab-group-color-grey: #5f6368;--tab-group-color-orange: #f7914a;--tab-group-color-pink: #cd2183;--tab-group-color-purple: #9f46f0;--tab-group-color-red: #d6342f;--tab-group-color-yellow: #f7ac2e}.dark{--tab-group-color-blue: #8cb4f5;--tab-group-color-cyan: #7ed9ea;--tab-group-color-green: #85c997;--tab-group-color-grey: #dadce0;--tab-group-color-orange: #faae77;--tab-group-color-pink: #fc8dca;--tab-group-color-purple: #c48cf6;--tab-group-color-red: #ef8c85;--tab-group-color-yellow: #fcd66e}.custom,.photo-match{--tab-group-color-blue: var(--color-text);--tab-group-color-cyan: var(--color-text);--tab-group-color-green: var(--color-text);--tab-group-color-grey: var(--color-text);--tab-group-color-orange: var(--color-text);--tab-group-color-pink: var(--color-text);--tab-group-color-purple: var(--color-text);--tab-group-color-red: var(--color-text);--tab-group-color-yellow: var(--color-text)}",""]);const r=n},5675:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,'.tab[data-v-1f1e6537]{display:flex;position:relative;align-items:center;margin:1px calc(var(--app-padding)/-3) 0;padding:calc(var(--app-padding)/3);border-radius:var(--border-radius);cursor:pointer;gap:8px}.tab[data-v-1f1e6537]::before,.tab[data-v-1f1e6537]::after{content:"";height:1px;position:absolute;background-color:var(--color-stop-1)}.tab[data-v-1f1e6537]::before{inset:-1px calc(var(--app-padding)/3) auto}.tab[data-v-1f1e6537]::after{inset:auto calc(var(--app-padding)/3) 0}.tab[data-v-1f1e6537]:hover{background-color:var(--color-stop-1)}.tab[data-v-1f1e6537]:hover:active{background-color:var(--color-stop-2)}.tab[data-v-1f1e6537]:hover::before,.tab:hover+.tab[data-v-1f1e6537]::before,.tab[data-v-1f1e6537]:hover::after,.tab[data-v-1f1e6537]:not(:last-child)::after{background-color:rgba(0,0,0,0)}.tab+.group[data-v-1f1e6537]{border-bottom:none}.tab .favicon[data-v-1f1e6537]{width:16px;height:16px;flex-shrink:0;overflow:hidden;border-radius:calc(var(--border-radius)/2 + 1px);background-color:var(--color-stop-1)}.tab[data-v-1f1e6537] .favicon :is(img,svg){width:12px;height:12px;margin:2px;border-radius:calc(var(--border-radius)/2 - 1px)}.tab .name[data-v-1f1e6537]{overflow:hidden;color:var(--color-stop-6);font-size:.875rem;font-weight:500;line-height:140%;text-overflow:ellipsis;white-space:nowrap}.window>.group+.tab[data-v-1f1e6537]::before,.window:only-child>.tab[data-v-1f1e6537]:first-child::before,.window:last-child>.tab[data-v-1f1e6537]:last-child::after{background-color:rgba(0,0,0,0)}',""]);const r=n},14931:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,'.session-list-item[data-v-79f3ecb0]{display:flex;position:relative;flex-direction:column;margin:1px 0 0;padding:8px calc(var(--app-padding)/2);border-radius:var(--border-radius);cursor:pointer}.session-list-item[data-v-79f3ecb0]::before,.session-list-item[data-v-79f3ecb0]::after{content:"";height:1px;position:absolute;background-color:var(--color-stop-2)}.session-list-item[data-v-79f3ecb0]::before{inset:-1px calc(var(--app-padding)/2) auto}.session-list-item[data-v-79f3ecb0]::after{inset:auto calc(var(--app-padding)/2) 0}.session-list-item[data-v-79f3ecb0]:hover{background-color:var(--color-stop-1)}@supports not selector(:has( * )){.session-list-item[data-v-79f3ecb0]:hover:active{background-color:var(--color-stop-2)}}@supports selector(:has( * )){.session-list-item[data-v-79f3ecb0]:hover:active:not(:has(.list-item-control:active)){background-color:var(--color-stop-2)}}.session-list-item[data-v-79f3ecb0]:hover::after,.session-list-item[data-v-79f3ecb0]:hover::before,.session-list-item:hover+.session-list-item[data-v-79f3ecb0]::before,.session-list-item[data-v-79f3ecb0]:not(:last-child)::after{background-color:rgba(0,0,0,0)}.session-list-item .upper-row[data-v-79f3ecb0]{width:100%;display:flex;flex-direction:row;align-items:baseline;justify-content:space-between;overflow:hidden;gap:15px}.session-list-item .upper-row .title[data-v-79f3ecb0]{width:100%;opacity:.85;padding:2px 2px 2px 0;overflow:hidden;font-weight:500;text-overflow:ellipsis;white-space:nowrap}.session-list-item .upper-row .title-input[data-v-79f3ecb0]{padding:2px 2px 2px 0;border-bottom:none;font-weight:500}.session-list-item .upper-row .list-item-control[data-v-79f3ecb0]{display:flex;align-items:center;gap:8px}.session-list-item .upper-row .list-item-control .restore[data-v-79f3ecb0]{opacity:var(--opacity-stop-5);padding:3px;font-size:14px;font-weight:500;cursor:pointer}.session-list-item .upper-row .list-item-control .restore[data-v-79f3ecb0]:hover{opacity:var(--opacity-stop-6)}.session-list-item .upper-row .list-item-control .restore[data-v-79f3ecb0]:hover:active{opacity:1}.session-list-item .bottom-row[data-v-79f3ecb0]{display:flex;align-items:center}.session-list-item .bottom-row .session-description[data-v-79f3ecb0]{display:flex;opacity:var(--opacity-stop-4);font-size:14px;gap:8px}.session-list-item .bottom-row .icon-cross-browser-warn[data-v-79f3ecb0]{display:inline-flex;align-items:center;opacity:var(--opacity-stop-5)}',""]);const r=n},41415:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,"\n/* stylelint-disable */\n.degraded-plus-banner[data-v-07db59a2] { background: var(--color-stop-2); padding: 8px; text-align: center; font-size: 0.75rem; color: var(--color-stop-5);\n}\n.degraded-plus-banner span[data-v-07db59a2] { color: var(--color-text); font-weight: 600; cursor: pointer; padding: 8px; margin: -8px; margin-left: -2px;\n}\n",""]);const r=n},36867:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,"\n/* stylelint-disable */\n[data-v-424b4e7a] .app { padding: 0; --header-height: 55px;\n}\n.app-loading[data-v-424b4e7a] { min-height: 190px;\n}\n.app-content[data-v-424b4e7a] {\n}\n[data-v-424b4e7a] .app-header {\n}\n.detail-header-title[data-v-424b4e7a] { font-size: 17px; font-weight: 500;\n}\n.list[data-v-424b4e7a] .app-header .header-left { width: auto; padding-top: 5px;\n}\n.button-row[data-v-424b4e7a] { padding: 0 var(--app-padding) var(--app-padding); display: flex; gap: 8px;\n}\n.button-row .button[data-v-424b4e7a] { background: var(--color-button); display: inline-block; flex: 0 0 auto; padding: 6px 13px; font-size: 14px;\n}\n.button-row .button[data-v-424b4e7a]:hover { background: var(--color-button-hover)\n}\n.button-row .button[data-v-424b4e7a]:hover:active { background: var(--color-button-active)\n}\n[data-v-424b4e7a] .base-item-list { padding: 0 calc(var(--app-padding) / 2 - (var(--width) - 100%)) 0 calc(var(--app-padding) / 2)\n}\n.degraded-plus-banner[data-v-424b4e7a] { margin-bottom: var(--app-padding);\n}\n.app-confirm-cancel[data-v-424b4e7a] { position: relative; max-width: 290px; padding: 12px 15px; --color-bg: transparent;\n}\n.app-confirm-cancel[data-v-424b4e7a] .app-confirm-cancel-message { text-align: left;\n}\n.app-confirm-cancel[data-v-424b4e7a] .button { font-size: 0.8rem; padding: 6px 13px;\n}\n\n",""]);const r=n},74627:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ee});var a=function(){var e=this,t=e._self._c;return t("app-popup",{attrs:{position:"bottom-right",region:"top-left","data-test":"tab-stash-app",width:320,focused:e.viewStateStore.focused},on:{close:e.closePopup},nativeOn:{click:function(t){return e.viewStateStore.focus()}}},[t("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"}},[e.loadingStateActive?t("app-loading"):e.loaded?t("div",{staticClass:"app-content"},[t("app-view-switch-dynamic",{attrs:{"order-key":e.activeView.order}},[e.listViewActive?t("app-view",{staticClass:"list session-list",attrs:{"data-test":"tabs-list-view"},scopedSlots:e._u([{key:"header",fn:function(){return[[t("app-header",{scopedSlots:e._u([{key:"left",fn:function(){return[t("inline-svg",{staticClass:"icon app-header-icon",attrs:{src:s(23275)}}),e._v(" "),t("span",{staticClass:"app-header-name"},[e._v("Tab Stash")])]},proxy:!0},{key:"right",fn:function(){return[t("base-dropdown",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeDeleteConfirmation,expression:"closeDeleteConfirmation"}],ref:"settingsDropdown",attrs:{"container-class":"app","data-test":"list-header-dropdown"},on:{toggle:e.closeDeleteConfirmation}},[e.deleteConfirmationOpen?[t("div",[t("app-confirm-cancel",e._b({attrs:{"data-test":"confirm-delete-all"}},"app-confirm-cancel",e.deleteAllProps,!1))],1)]:[e.empty?e._e():t("base-dropdown-option",{staticClass:"delete",attrs:{"data-test":"delete-all"},on:{click:e.openDeleteConfirmation}},[t("inline-svg",{staticClass:"icon icon-trash",attrs:{src:s(9241)}}),e._v(" "),t("span",{staticClass:"text"},[e._v("Delete all sessions")])],1),e._v(" "),e.empty?e._e():t("base-dropdown-divider"),e._v(" "),t("base-dropdown-option",{attrs:{"data-test":"tabs-onboarding"},on:{click:e.openHelpArticle}},[t("inline-svg",{staticClass:"icon icon-help",attrs:{src:s(16963)}}),e._v(" "),t("span",{staticClass:"text"},[e._v("Help")])],1)]],2)]},proxy:!0}],null,!1,2422349795)}),e._v(" "),e.empty?e._e():t("div",{staticClass:"button-row"},[e.isPlusDegraded?e._e():t("div",{staticClass:"button",attrs:{"data-test":"save-tabs"},on:{click:e.stashSession}},[e._v("Stash tabs")]),e._v(" "),t("div",{staticClass:"button button-neutral",attrs:{"data-test":"restore-last"},on:{click:e.restoreLastSession}},[e._v("Restore last session")])]),e._v(" "),e.isPlusDegraded?t("degraded-plus-banner",{on:{renew:e.showUpsell}}):e._e()]]},proxy:!0},{key:"body",fn:function(){return[e.empty?t("app-empty",{attrs:{title:"Stash your tabs for later\nso you can focus","button-text":"Stash open tabs"},on:{buttonClick:e.stashSession}}):[t("base-item-list",e._l(e.sessions,(function(s){return t("session-list-item",{key:s.id,attrs:{session:s},on:{restore:function(t){return e.restoreSession(s)},delete:function(t){return e.deleteSession(s)}}})})),1)]]},proxy:!0}],null,!1,3429946540)}):e.detailViewActive&&e.activeSession?t("app-view",{attrs:{"data-test":"tabs-detail-view"},scopedSlots:e._u([{key:"header",fn:function(){return[[t("app-header",{scopedSlots:e._u([{key:"left",fn:function(){return[t("app-header-control",{on:{click:e.switchViewToList}},[t("inline-svg",{staticClass:"icon icon-tabs",attrs:{src:s(97510)}})],1)]},proxy:!0},{key:"center",fn:function(){return[t("div",{staticClass:"detail-header-title",attrs:{"data-test":"detail-header"}},[e._v(e._s(e.activeSession.displayName))])]},proxy:!0}])}),e._v(" "),t("div",{staticClass:"button-row"},[t("div",{staticClass:"button",attrs:{"data-test":"restore-session"},on:{click:function(t){return e.restoreSession(e.activeSession)}}},[e._v("Restore session")]),e._v(" "),t("base-dropdown",{ref:"detailDeleteDropdown",attrs:{"container-class":"app","data-test":"confirm-delete"},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"button button-neutral",attrs:{"data-test":"delete-session"}},[e._v("Delete session")])]},proxy:!0}])},[e._v(" "),t("session-confirm-delete",{attrs:{session:e.activeSession},on:{cancel:()=>{var t;return null===(t=e.$refs.detailDeleteDropdown)||void 0===t?void 0:t.closeDropdown()},delete:()=>e.deleteSession(e.activeSession)}})],1)],1)]]},proxy:!0},{key:"body",fn:function(){return[t("session-detail",{attrs:{session:e.activeSession,"data-test":"confirm-delete"}})]},proxy:!0}])}):e._e()],1)],1):e._e()],1)],1)};a._withStripped=!0;var i=s(15939),o=s(92349),n=s(77260),r=s(98389),l=s(52313),c=s(1045),d=s(93594),p=s(48093),u=s(40272),g=s(14493),M=function(){var e=this,t=e._self._c;return t("li",{staticClass:"session-list-item",attrs:{"data-test":"session-item"},on:{click:e.switchViewToDetail}},[t("div",{staticClass:"upper-row"},[e.editingTitle?t("span",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tempTitle,expression:"tempTitle"}],ref:"editingTitle",staticClass:"title-input",attrs:{spellcheck:"false","data-test":"display-name-input",maxlength:"255"},domProps:{value:e.tempTitle},on:{click:function(e){e.stopPropagation()},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleTitleChange.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),e.revertTitle.apply(null,arguments))}],blur:e.handleTitleChange,input:function(t){t.target.composing||(e.tempTitle=t.target.value)}}})]):t("span",{staticClass:"title",attrs:{"data-test":"display-name"}},[e._v(e._s(e.displayName))]),e._v(" "),t("div",{staticClass:"list-item-control",attrs:{"data-test":"session-item-control"},on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"restore",attrs:{"data-test":"restore-session"},on:{click:function(t){return e.$emit("restore")}}},[e._v("Restore")]),e._v(" "),t("base-dropdown",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeDeleteConfirmation,expression:"closeDeleteConfirmation"}],ref:"tabs-dropdown",attrs:{"data-test":"session-dropdown"},on:{toggle:e.closeDeleteConfirmation}},[e.deleteConfirmationOpen?[t("session-confirm-delete",{attrs:{session:e.session},on:{cancel:e.closeDeleteConfirmation,delete:function(t){return e.$emit("delete")}}})]:[t("base-dropdown-option",{attrs:{"data-test":"rename-session"},on:{click:e.renameSession}},[t("inline-svg",{staticClass:"icon icon-edit",attrs:{src:s(13228)}}),e._v(" "),t("span",{staticClass:"text"},[e._v("Rename")])],1),e._v(" "),t("base-dropdown-option",{attrs:{"data-test":"delete-session"},on:{click:e.openDeleteConfirmation}},[t("inline-svg",{staticClass:"icon icon-delete",attrs:{src:s(9241)}}),e._v(" "),t("span",{staticClass:"text"},[e._v("Delete")])],1)]],2)],1)]),e._v(" "),t("div",{staticClass:"bottom-row"},[e.iconCrossBrowserWarnVisible?t("div",{staticClass:"icon-cross-browser-warn",attrs:{"data-test":"cross-browser-warn",title:"This session was created on another browser. Browser-specific pages might not be restored"}},[t("inline-svg",{staticClass:"icon icon-delete",attrs:{src:s(63741)}})],1):e._e(),e._v(" "),t("div",{staticClass:"session-description",attrs:{"data-test":"session-description"}},[t("span",[e._v(e._s(e.session.sessionDescriptionTabs))]),e._v(" "),e.session.windows.length>1?t("span",[e._v(e._s(e.session.sessionDescriptionWindows))]):e._e()])])])};M._withStripped=!0;var v=s(42223),f=s(40063),h=s(74957),D=s(9128),b=s(35757),w=function(){var e=this,t=e._self._c;return t("div",[t("app-confirm-cancel",e._b({attrs:{"data-test":"confirm-delete"}},"app-confirm-cancel",e.deleteProps,!1))],1)};w._withStripped=!0;const y={name:"SessionConfirmDelete",components:{AppConfirmCancel:d.Z},props:{session:{type:D.z,required:!0}},emits:["cancel","delete"],computed:{deleteProps(){return{title:"Are you sure you want to delete this session?",description:this.session.sessionDescriptionTabs+(this.session.windows.length>1?" "+this.session.sessionDescriptionWindows:""),confirm:()=>this.$emit("delete"),confirmText:"Delete session",cancel:()=>this.$emit("cancel"),cancelText:"Keep session",dataTest:"confirm-delete"}}}};s(49847);var A=s(51900);const N=(0,A.Z)(y,w,[],!1,null,"5fffe065",null).exports,I={name:"SessionListItem",components:{BaseDropdownOption:u.Z,BaseDropdown:p.Z,SessionConfirmDelete:N},directives:{ClickOutside:f.Z},mixins:[v.Z],inject:["viewStateStore","itemStore"],props:{session:{type:D.z,required:!0}},emits:["delete","restore"],data(){return{editingTitle:!1,tempTitle:this.session.displayName,deleteConfirmationOpen:!1}},unreactive:()=>({titleClickDebounce:0,titleClickCounter:0}),computed:{displayName(){return this.session.displayName},iconCrossBrowserWarnVisible(){return"chromium"===this.session.browser&&h.Z.isFirefox()||"moz"===this.session.browser&&h.Z.isChromium()}},watch:{async editingTitle(e){var t,s;e&&(await this.$nextTick(),null===(t=this.$refs.editingTitle)||void 0===t||t.focus(),await this.$nextTick(),null===(s=this.$refs.editingTitle)||void 0===s||s.select())}},methods:{openDeleteConfirmation(){this.deleteConfirmationOpen=!0},closeDeleteConfirmation(){this.deleteConfirmationOpen=!1},renameSession(){var e;this.editingTitle=!0,null===(e=this.$refs["tabs-dropdown"])||void 0===e||e.closeDropdown()},handleTitleChange(){var e;const t=null===(e=this.tempTitle)||void 0===e?void 0:e.trim();t?t!==this.displayName&&this.itemStore.update(this.session.id,{name:t}):this.revertTitle(),this.editingTitle=!1},revertTitle(){this.tempTitle=this.session.displayName,this.editingTitle=!1},switchViewToDetail(){this.itemStore.activeItemId=this.session.id,this.viewStateStore.setActiveView(b.S9.Detail)}}};s(91048);const j=(0,A.Z)(I,M,[],!1,null,"79f3ecb0",null).exports;var T=function(){var e=this,t=e._self._c;return t("div",{staticClass:"degraded-plus-banner"},[e._v("\n\t"+e._s(e.expiredText)+" "),t("span",{on:{click:function(t){return e.$emit("renew")}}},[e._v(e._s(e.renewText))])])};T._withStripped=!0;const x={name:"DegradedPlusBanner",props:{renewText:{type:String,default:"Renew"},expiredText:{type:String,default:"Plus subscription expired."}},emits:["renew"]};s(69767);const S=(0,A.Z)(x,T,[],!1,null,"07db59a2",null).exports;var z=s(58673),C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"session-detail"},e._l(e.session.windows,(function(s){return t("div",{key:s.key,staticClass:"window"},[e.session.windows.length>1?t("div",{staticClass:"window-label",on:{click:function(t){return t.stopPropagation(),e.openPartialSession(s)}}},[e._v("Window")]):e._e(),e._v(" "),e._l(s.tabsAndGroups,(function(s){return[s.type===e.TabOrGroupType.Group?t("div",{key:s.key,staticClass:"group",style:{"--tab-group-color":`var(--tab-group-color-${s.color})`}},[t("div",{staticClass:"group-label",on:{click:function(t){return t.stopPropagation(),e.openPartialSession(s)}}},[e._v("Tab group")]),e._v(" "),e._l(s.tabs,(function(s){return t("session-detail-tab-item",{key:s.key,attrs:{tab:s},nativeOn:{click:function(t){return t.stopPropagation(),e.openPartialSession(s)}}})}))],2):s.type===e.TabOrGroupType.Tab?t("session-detail-tab-item",{key:s.key,attrs:{tab:s},nativeOn:{click:function(t){return t.stopPropagation(),e.openPartialSession(s)}}}):e._e()]}))],2)})),0)};C._withStripped=!0;var L=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tab",attrs:{title:e.tab.url}},[t("fav-icon",{staticClass:"favicon",attrs:{url:"chrome://newtab/"===e.tab.url?"https://momentumdash.com":e.tab.url}}),e._v(" "),t("div",{staticClass:"name"},[e._v(e._s(e.tab.title))])],1)};L._withStripped=!0;var O=s(28149);const k={name:"SessionDetailTab",components:{FavIcon:s(46207).Z},props:{tab:{type:O.O,required:!0}}};s(3521);const _=(0,A.Z)(k,L,[],!1,null,"1f1e6537",null).exports;var E=s(1724),Q=s(94787),Y=s(20338),U=s(25113);const Z=(0,Q.A)().tabStashService,P=new Y.Z({feature:"tab stash"}),R={name:"SessionDetail",components:{SessionDetailTabItem:_},props:{session:{type:D.z,required:!0}},unreactive:()=>({TabOrGroupType:E.LL}),methods:{openPartialSession(e){let t=1;e instanceof E.Rz&&(t=e.tabCount),e instanceof U.Z&&(t=e.tabs.length),P.capture("restore tabs",{tab_count:t,window_count:e instanceof E.Rz?1:0,partial:!0}),Z.openPartialSession(e)}}};s(60494),s(36476);const V=(0,A.Z)(R,C,[],!1,null,"3f263805",null).exports;var B=s(27691),H=s(28692),F=s(63943),G=s(7838),$=s(64438),W=s(35746),J=s(65238);const q=new Y.Z({feature:"tab stash"}),K=new $.Z("tab.tabStash.error"),X={name:"TabsApp",directives:{ClickOutside:f.Z},components:{AppViewSwitchDynamic:i.Z,AppPopup:o.Z,AppHeader:n.Z,AppLoading:r.Z,AppView:l.Z,AppEmpty:c.Z,AppConfirmCancel:d.Z,BaseDropdown:p.Z,BaseDropdownOption:u.Z,BaseItemList:g.default,SessionListItem:j,DegradedPlusBanner:S,BaseDropdownDivider:z.Z,SessionDetail:V,AppHeaderControl:B.Z,SessionConfirmDelete:N},inject:["viewStateStore"],provide(){return{itemStore:this.tabsStore}},data:()=>({loadingStateActive:!1,deleteConfirmationOpen:!1}),computed:{...(0,H.Kc)(F.useTabsStore),...(0,H.rn)(F.useTabsStore,["loading","loaded"]),...(0,H.rn)(F.useTabsStore,{sessions:"getItems"}),empty(){return this.loaded&&!this.sessions.length},activeViewId(){return this.viewStateStore.activeViewId},activeView(){return this.viewStateStore.activeView},listViewActive(){return this.activeViewId===b.S9.List},detailViewActive(){return this.activeViewId===b.S9.Detail},isPlusDegraded:()=>m.conditionalFeatures.featureEnabled("tab-stash-degraded"),activeSession(){return this.sessions.find((e=>e.id===this.tabsStore.activeItemId))},deleteAllProps(){return{title:"Are you sure you want to delete all stashed sessions?",description:this.sessions.length+" session"+(this.sessions.length>1?"s":""),confirm:this.deleteAllSessions,confirmText:"Delete session"+(this.sessions.length>1?"s":""),cancel:this.closeDeleteConfirmation,cancelText:"Keep session"+(this.sessions.length>1?"s":"")}}},watch:{loaded:{handler(e){e&&(clearTimeout(this.loadingTimeout),this.loadingStateActive=!1)}},listViewActive(e){e&&this.closeDeleteConfirmation()}},created(){this.loaded||(this.loadingTimeout=setTimeout((()=>{this.loadingStateActive=!0}),500),this.tabsStore.refresh())},async mounted(){await this.shouldOpenOnboarding()&&this.openOnboarding({saveProgress:!0})},methods:{openHelpArticle(){window.open(b.iW,"_blank")},closePopup(){this.viewStateStore.togglePopup(!1)},openDeleteConfirmation(){this.deleteConfirmationOpen=!0},closeDeleteConfirmation(){this.deleteConfirmationOpen=!1},async stashSession(){if(this.isPlusDegraded)return this.showUpsell();try{const e=await this.tabsStore.stashSession();if(!e)return;if(0===e.windows.length)return void this.showFlashMessage({icon:s(23275),message:b.sY.ERROR_NO_OTHER_TABS,id:this.flashMessageId});q.capture("stash tabs",{tab_count:e.totalTabCount,window_count:e.windows.length}),this.showFlashMessage({icon:s(23275),message:e.totalTabCount.toString()+" tab"+(e.totalTabCount>1?"s":"")+b.sY.SUCCESSFUL_STASH_PARTIAL})}catch(e){console.error(e),K.error("Tab Stash: stash session error",e),this.showFlashMessage({error:!0,message:b.sY.ERROR_STASH})}},restoreLastSession(){this.empty||this.restoreSession(this.sessions[0])},async restoreSession(e){try{if(!await this.tabsStore.restoreSession(e))return;q.capture("restore tabs",{tab_count:e.totalTabCount,window_count:e.windows.length}),this.showFlashMessage({icon:s(23275),message:e.displayName+b.sY.SUCCESSFUL_RESTORE_PARTIAL}),this.detailViewActive&&this.switchViewToList()}catch(t){console.error(t),t.sessionId=e.id,K.error("Tab Stash: restore session error",t),this.showFlashMessage({error:!0,message:b.sY.ERROR_RESTORE})}},async deleteAllSessions(){var e;const t=await Promise.allSettled(this.sessions.map((e=>this.tabsStore.delete(e.id))));null===(e=this.$refs.confirmationDropdown)||void 0===e||e.closeDropdown();const s=t.filter((e=>"rejected"===e.status));0===s.length?this.showFlashMessage({message:b.sY.SUCCESSFUL_ALL_DELETE}):(K.error("Tab Stash: delete all sessions error",{errors:s.map((e=>e.reason))}),this.showFlashMessage({error:!0,message:b.sY.ERROR_ALL_DELETE}))},async deleteSession(e){try{await this.tabsStore.delete(e.id),this.showFlashMessage({icon:s(23275),message:e.displayName+b.sY.DELETE_PARTIAL}),this.detailViewActive&&this.switchViewToList()}catch(e){K.error("Tab Stash: delete session error",e),this.showFlashMessage({error:!0,message:b.sY.ERROR_DELETE})}},switchViewToList(){this.viewStateStore.setActiveView(b.S9.List),this.tabsStore.activeItemId=""},showUpsell(){m.cmd("modal.open","UPSELL_TAB_STASH",{eventSource:"dash"})},async shouldOpenOnboarding(){var e;await W.default.refresh({mode:"cache"});let t=W.default.getStep(J.os.TAB_STASH_ONBOARDING);return t||(await W.default.refresh({mode:"server"}),t=W.default.getStep(J.os.TAB_STASH_ONBOARDING)),"complete"!==(null===(e=t)||void 0===e?void 0:e.status)},openOnboarding({saveProgress:e=!1}={}){var t;null===(t=this.$refs.settingsDropdown)||void 0===t||t.closeDropdown();const s=m.modals.definitions[J.os.TAB_STASH_ONBOARDING];localStorage.getItem("onboarding:skip")||m.trigger("modal:forceStep",s,0,e?{forced:!1}:{})},showFlashMessage(e){this.flashMessageId&&G.Z.$emit("flashMessage:dismiss",this.flashMessageId),this.flashMessageId=h.Z.uuidv4(),e.id=this.flashMessageId,G.Z.$emit("flashMessage",e)}}};s(35327);const ee=(0,A.Z)(X,a,[],!1,null,"424b4e7a",null).exports},49847:(e,t,s)=>{var a=s(19436);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("3b0dc563",a,!1,{})},60494:(e,t,s)=>{var a=s(38507);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("b9c01a66",a,!1,{})},36476:(e,t,s)=>{var a=s(42675);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("f99e817a",a,!1,{})},3521:(e,t,s)=>{var a=s(5675);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("3639a24a",a,!1,{})},91048:(e,t,s)=>{var a=s(14931);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("5cdf6c27",a,!1,{})},69767:(e,t,s)=>{var a=s(41415);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("13b58294",a,!1,{ssrId:!0})},35327:(e,t,s)=>{var a=s(36867);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("6c2c06e9",a,!1,{ssrId:!0})},63741:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgPjxwYXRoIGQ9Ik0xMiAwQzUuMzczIDAgMCA1LjM3MyAwIDEyczUuMzczIDEyIDEyIDEyIDEyLTUuMzczIDEyLTEyUzE4LjYyNyAwIDEyIDB6bTAgMTkuNjZjLS45MzggMC0xLjU4LS43MjMtMS41OC0xLjY2IDAtLjk2NC42NjktMS42NiAxLjU4LTEuNjYuOTYzIDAgMS41OC42OTYgMS41OCAxLjY2IDAgLjkzOC0uNjE3IDEuNjYtMS41OCAxLjY2em0uNjIyLTYuMzM5Yy0uMjM5LjgxNS0uOTkyLjgyOS0xLjI0MyAwLS4yODktLjk1Ni0xLjMxNi00LjU4NS0xLjMxNi02Ljk0MiAwLTMuMTEgMy44OTEtMy4xMjUgMy44OTEgMC0uMDAxIDIuMzcxLTEuMDgzIDYuMDk0LTEuMzMyIDYuOTQyeiIvPjwvc3ZnPgo="},97510:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIxIDEwSDcuODI4bDMuNTg2LTMuNTg2YTIgMiAwIDAgMC0yLjgyOC0yLjgyOGwtNyA3YTIgMiAwIDAgMCAwIDIuODI4bDcgN2EyIDIgMCAxIDAgMi44MjgtMi44MjhMNy44MjggMTRIMjFhMiAyIDAgMCAwIDAtNHoiIC8+PC9zdmc+Cg=="},13228:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTE1LjA2NyAzLjk4NmEuNS41IDAgMCAwLS43MDgtLjAwMUwzLjQzNyAxNC45MWEuNS41IDAgMCAwIDAgLjcwN2w0Ljk0OCA0Ljk0OGEuNS41IDAgMCAwIC43MDcgMEwyMC4wMDkgOS42NDhhLjUuNSAwIDAgMCAwLS43MDZsLTQuOTQyLTQuOTU2ek0yLjQzIDE2LjhhLjUuNSAwIDAgMC0uODQuMjM3TC4wODQgMjMuMzE0YS41MDEuNTAxIDAgMCAwIC42MDMuNjAybDYuMjcyLTEuNWEuNS41IDAgMCAwIC4yMzctLjg0TDIuNDMgMTYuOHpNMjMuMiAyLjkyNEwyMS4wNzcuOGEyLjUgMi41IDAgMCAwLTMuNTMyIDBsLTEuNDE4IDEuNDE3YS41LjUgMCAwIDAgMCAuNzA3bDQuOTUgNC45NDlhLjUuNSAwIDAgMCAuNzA3IDBMMjMuMiA2LjQ1NGEyLjUgMi41IDAgMCAwIDAtMy41M3oiIC8+PC9zdmc+Cg=="},16963:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgdmlld0JveD0iMCAwIDY0IDY0Ij4KCTxwYXRoIGQ9Ik0zMi4wMDEzIDBDMTQuMzM0IDAgMC4wMDEyMjA3IDE0LjMxNDcgMC4wMDEyMjA3IDMxLjk4MzJDMC4wMDEyMjA3IDQ5LjY2ODUgMTQuMzM0IDY0IDMyLjAwMTEgNjRDNDkuNjc4IDY0IDYzLjk5ODcgNDkuNjY4NCA2My45OTg3IDMxLjk4MzJDNjMuOTk4OSAxNC4zMTQ3IDQ5LjY3OCAwIDMyLjAwMTMgMFpNMzQuMjgxNiA0OS43ODg5QzMzLjUzODQgNTAuNDUwMyAzMi42NzcxIDUwLjc4MjcgMzEuNzAxMyA1MC43ODI3QzMwLjY5MTggNTAuNzgyNyAyOS44MTEyIDUwLjQ1NjIgMjkuMDU5NiA0OS44MDJDMjguMzA2NyA0OS4xNDkxIDI3LjkyOTYgNDguMjM0OSAyNy45Mjk2IDQ3LjA2MDJDMjcuOTI5NiA0Ni4wMTgzIDI4LjI5NDYgNDUuMTQxMiAyOS4wMjIyIDQ0LjQzMDVDMjkuNzQ5OSA0My43MTk3IDMwLjY0MjUgNDMuMzY0MyAzMS43MDEzIDQzLjM2NDNDMzIuNzQzMyA0My4zNjQzIDMzLjYyMDQgNDMuNzE5NyAzNC4zMzIzIDQ0LjQzMDVDMzUuMDQzMSA0NS4xNDEyIDM1LjM5OTYgNDYuMDE4MSAzNS4zOTk2IDQ3LjA2MDJDMzUuMzk4MyA0OC4yMTggMzUuMDI2IDQ5LjEyNzYgMzQuMjgxNiA0OS43ODg5Wk00My41NDg5IDI2LjgxNEM0Mi45Nzc5IDI3Ljg3MjkgNDIuMjk5NyAyOC43ODYgNDEuNTEzMSAyOS41NTU4QzQwLjcyODggMzAuMzI1NiAzOS4zMTgzIDMxLjYxOTQgMzcuMjgyMyAzMy40MzgzQzM2LjcyMSAzMy45NTE1IDM2LjI2OTIgMzQuNDAyMSAzNS45MzA4IDM0Ljc4OTlDMzUuNTkyMyAzNS4xNzkxIDM1LjMzOTMgMzUuNTM0MyAzNS4xNzQyIDM1Ljg1NzJDMzUuMDA3OSAzNi4xOCAzNC44ODAzIDM2LjUwMjkgMzQuNzg5OSAzNi44MjU3QzM0LjY5OTUgMzcuMTQ3MyAzNC41NjM1IDM3LjcxNDcgMzQuMzc5MSAzOC41MjU0QzM0LjA2NiA0MC4yNDU3IDMzLjA4MTggNDEuMTA1NiAzMS40Mjc4IDQxLjEwNTZDMzAuNTY3NiA0MS4xMDU2IDI5Ljg0NDkgNDAuODI1IDI5LjI1NTggNDAuMjYyNEMyOC42NjkxIDM5LjY5OTggMjguMzc2NCAzOC44NjUgMjguMzc2NCAzNy43NTY4QzI4LjM3NjQgMzYuMzY3OSAyOC41OTIgMzUuMTY0NCAyOS4wMjIxIDM0LjE0NjZDMjkuNDQ5OCAzMy4xMjg2IDMwLjAyMiAzMi4yMzYgMzAuNzMyNyAzMS40NjYzQzMxLjQ0NDcgMzAuNjk2NSAzMi40MDM1IDI5Ljc4MzMgMzMuNjExOCAyOC43MjQ1QzM0LjY3MDYgMjcuNzk4MSAzNS40MzU2IDI3LjA5OTUgMzUuOTA2NiAyNi42MjgzQzM2LjM3ODggMjYuMTU2MiAzNi43NzUyIDI1LjYzMSAzNy4wOTY4IDI1LjA1MjdDMzcuNDIwOSAyNC40NzMyIDM3LjU3OTkgMjMuODQ1NiAzNy41Nzk5IDIzLjE2NzVDMzcuNTc5OSAyMS44NDM2IDM3LjA4OTcgMjAuNzI4MSAzNi4xMDQzIDE5LjgxODdDMzUuMTIwMSAxOC45MDkyIDMzLjg1MDQgMTguNDUzOCAzMi4yOTUyIDE4LjQ1MzhDMzAuNDc1IDE4LjQ1MzggMjkuMTM1NCAxOC45MTI3IDI4LjI3NTMgMTkuODMwN0MyNy40MTUyIDIwLjc0ODYgMjYuNjg4OCAyMi4xMDAyIDI2LjA5MjUgMjMuODg2N0MyNS41Mjg4IDI1Ljc1NjMgMjQuNDYxNCAyNi42OTEgMjIuODkxNyAyNi42OTFDMjEuOTY1MyAyNi42OTEgMjEuMTgzNiAyNi4zNjQ2IDIwLjU0NjMgMjUuNzExNkMxOS45MTAzIDI1LjA1ODYgMTkuNTkyMiAyNC4zNTE2IDE5LjU5MjIgMjMuNTkwM0MxOS41OTIyIDIyLjAxOTQgMjAuMDk3IDIwLjQyNjkgMjEuMTA1MyAxOC44MTM5QzIyLjExNDkgMTcuMjAwOSAyMy41ODY5IDE1Ljg2NDkgMjUuNTIyNyAxNC44MDcyQzI3LjQ1NzMgMTMuNzQ4MyAyOS43MTYxIDEzLjIxODIgMzIuMjk1MiAxMy4yMTgyQzM0LjY5MzYgMTMuMjE4MiAzNi44MTAyIDEzLjY2MTUgMzguNjQ2IDE0LjU0N0M0MC40ODE5IDE1LjQzMTEgNDEuOTAwOSAxNi42MzQ2IDQyLjkwMiAxOC4xNTcyQzQzLjkwMTkgMTkuNjc4NiA0NC40MDI5IDIxLjMzMjYgNDQuNDAyOSAyMy4xMTkyQzQ0LjQwNTMgMjQuNTIyNyA0NC4xMTk5IDI1Ljc1NTIgNDMuNTQ4OSAyNi44MTRaIi8+Cjwvc3ZnPgo="}}]);