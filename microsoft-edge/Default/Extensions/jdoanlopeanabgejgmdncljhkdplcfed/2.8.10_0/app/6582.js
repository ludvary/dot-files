(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[6582,8200,3200,9968],{99437:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var n=i(20144),s=i(88026),o=i(51726),a=i.n(o),d=i(34952),r=i(7838),l=i(81452);let u={};const c={bind:function(e,t){m.utils.isTouchDevice()&&(e.dataset.justBoundMobileClickHandler=!0,setTimeout((()=>{e.dataset.justBoundMobileClickHandler=!1}),100),e.dataset.mobileClickHandlerId=Math.random().toString(36).substring(7),u[e.dataset.mobileClickHandlerId]=t.value,e.addEventListener("click",t.value))},unbind:function(e){m.utils.isTouchDevice()&&(e.removeEventListener("click",u[e.dataset.mobileClickHandlerId]),delete u[e.dataset.mobileClickHandlerId],delete e.dataset.mobileClickHandlerId,delete e.dataset.justBoundMobileClickHandler)}};var p=i(28692),h=i(64398);n.ZP.use(s.Z,{name:"unreactive"}),n.ZP.use(a()),n.ZP.use(d.InlineSvgPlugin),n.ZP.use(p.og),n.ZP.prototype.$xhr=l.Z,n.ZP.prototype.$e=r.Z,n.ZP.directive("mobile-click",c),new n.ZP({bb:()=>({conditionalFeatures:m.conditionalFeatures,teamInfo:m.models.teamInfo,date:m.models.date,balance:m.models.balanceMode,bookmarksSettings:m.models.bookmarksSettings})}),n.ZP.mixin({unreactive:()=>({$touch:m.utils.isTouchDevice()}),computed:{$mobile:()=>m.reactive.windowDimensions.width<=450,$plus:()=>m.conditionalFeatures.featureEnabled("plus"),$team:()=>m.conditionalFeatures.featureEnabled("team"),$admin:()=>m.models.teamInfo&&m.models.teamInfo.get("team")&&m.models.teamInfo.get("team").userIsAdmin},pinia:h.Z});const v=n.ZP},40063:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});let n={};const s={bind:function(e,t){let i,s;e.dataset.justBoundClickOutsideHandler=!0,setTimeout((()=>{e.dataset.justBoundClickOutsideHandler=!1}),100);const o=e=>{s=!1,(e=>e&&e.clientX>window.innerWidth)(e)?s=!0:i=e.target},a=n=>{s||(t.modifiers.bubble||!e.contains(i)&&!e.contains(n.target)&&e!==i&&e!==n.target&&"true"!==e.dataset.justBoundClickOutsideHandler)&&t.value(n)};e.dataset.clickOutsideMouseupHandlerId=Math.random().toString(36).substring(7),e.dataset.clickOutsideMousedownHandlerId=Math.random().toString(36).substring(7),n[e.dataset.clickOutsideMouseupHandlerId]=a,n[e.dataset.clickOutsideMousedownHandlerId]=o,document.addEventListener("mouseup",a),document.addEventListener("mousedown",o)},unbind:function(e){var t,i;null!==(t=e.dataset)&&void 0!==t&&t.clickOutsideMouseupHandlerId&&null!==(i=e.dataset)&&void 0!==i&&i.clickOutsideMousedownHandlerId&&(document.removeEventListener("mouseup",n[e.dataset.clickOutsideMouseupHandlerId]),document.removeEventListener("mousedown",n[e.dataset.clickOutsideMousedownHandlerId]),delete n[e.dataset.clickOutsideMouseupHandlerId],delete n[e.dataset.clickOutsideMousedownHandlerId],delete e.dataset.clickOutsideMouseupHandlerId,delete e.dataset.clickOutsideMousedownHandlerId,delete e.dataset.justBoundClickOutsideHandler)}}},42223:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n={data:()=>({componentsMounted:{}}),unreactive:()=>({uid:m.utils.shortId()}),beforeCreate(){const e=this.$options.components;Object.keys(e).forEach((t=>{const i=e[t];"function"==typeof i&&(e[t]=function(){this.$set(this.componentsMounted,t,!1);const e=`${t}:${this.uid}:mounted`,n=()=>this.componentsMounted[t]=!0;return this.$e.$once(e,n),i(arguments).then((i=>{const s=i.default;return s&&s.doNotWaitForMount&&(this.$delete(this.componentsMounted,t),this.$e.$off(e,n)),i}))}.bind(this))}))},created(){this.$e.$on("widgets:timeoutExceeded",this.onWidgetTimeout)},mounted(){if(Object.keys(this.componentsMounted).length){const e=this.$watch("componentsMounted",(t=>{Object.values(t).every((e=>e))&&(this.onAllComponentsMounted(),e())}),{deep:!0,immediate:!0})}else this.onAllComponentsMounted()},destroyed(){this.stopListeningToWidgetTimeout()},methods:{stopListeningToWidgetTimeout(){this.$e.$off("widgets:timeoutExceeded",this.onWidgetTimeout)},getContextUid(){return this.$vnode&&this.$vnode.context&&this.$vnode.context.uid||""},onAllComponentsMounted(){this.onAllComponentsMountedOverride?this.onAllComponentsMountedOverride():this.widgetId?m.widgetManager.appReady(this.widgetId):this.emitComponentMounted(),this.stopListeningToWidgetTimeout()},emitComponentMounted(){this.$e.$emit(`${this.$options.name}:${this.getContextUid()}:mounted`)},onWidgetTimeout(){const e=Object.keys(this.componentsMounted).filter((e=>!this.componentsMounted[e]));e.length&&console.warn(`${this.$options.name} is awaiting ${e.join(", ")} to mount.`)}}}},40531:(e,t,i)=>{"use strict";i.d(t,{Fl:()=>o,Jr:()=>r,ax:()=>d});var n=i(99437);const s=new n.Z.observable({}),o=new Proxy(s,{get:(e,t)=>(e.hasOwnProperty(t)||n.Z.set(e,t,m.models.customization.getComputedSetting(t)),e[t]),set:()=>(console.warn('Computed settings cannot be set by reactiveCustomization. Instead set persistent settings with "persistent"'),!1)}),a=new n.Z.observable({}),d=new Proxy(a,{get:(e,t)=>(e.hasOwnProperty(t)||n.Z.set(e,t,m.models.customization.get(t)),e[t]),set:(e,t,i)=>(m.models.customization.save(t,i),n.Z.set(e,t,i),!0)});function r(e={}){Object.entries(e).forEach((([e,t])=>n.Z.set(a,e,t))),m.models.customization.save(e)}m.models.customization.on("change",(e=>{e&&("balanceModeStr"in e.changed&&Object.entries(m.models.customization.attributes).forEach((([e,t])=>n.Z.set(s,e,t))),Object.entries(e.changed).forEach((([e,t])=>{s[e]=m.models.customization.getComputedSetting(e),n.Z.set(a,e,t)})))})),m.on("customization:update",(e=>{e.forEach((e=>{const t=m.models.customization.getComputedSetting(e);n.Z.set(s,e,t),n.Z.set(a,e,t)}))}))},30827:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(99437);const s=m.showAnyway=new(n.Z.extend({name:"ShowAnyway",data:()=>({widgets:[]}),methods:{show(e){this.includes(e)||this.widgets.push(e)},hide(e){const t=this.widgets.indexOf(e);~t&&this.widgets.splice(t,1)},includes(e){return this.widgets.includes(e)}}}))},47596:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o)()(s());a.push([e.id,".links-dash[data-v-4ac22d4c]{order:1}.links-dash.column[data-v-4ac22d4c]{max-width:15rem;max-height:100%}.links-dash.row[data-v-4ac22d4c]{min-width:0;flex-shrink:2}.base-item-list.row[data-v-4ac22d4c]{height:100%}.base-item-list.row .link-list-item[data-v-4ac22d4c]{width:3.5rem;padding:1.0625rem .25rem}@media screen and (max-width: 800px){.links-dash.column[data-v-4ac22d4c]{max-width:5rem}}@media screen and (max-width: 450px){.links-dash[data-v-4ac22d4c]{display:none}}",""]);const d=a},28289:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o)()(s());a.push([e.id,"\n/* stylelint-disable */\n.links[data-v-7fb2f514] { order: 0;\n}\n",""]);const d=a},55040:(e,t,i)=>{"use strict";var n;i.d(t,{O:()=>n,k:()=>s}),function(e){e.Row="row",e.Column="column"}(n||(n={}));const s=3},36582:(e,t,i)=>{"use strict";i.r(t);var n=i(99437),s=i(33200),o=i(24749),a=function(){var e=this,t=e._self._c;return e.activeMode===e.mode&&e.totalPinnedLinks?t("app-container",{ref:"pinnedLinks",staticClass:"links-dash",class:[e.direction],attrs:{"app-name":"pinned-links","data-test":"links-dash","visible-setting":"linksVisible"}},[t("overflow-carousel",{staticClass:"add-shadow",attrs:{direction:e.direction,"content-ready":e.linksLoadedAndMounted}},[e.teamPinnedLinks.length>0?t("base-item-list",{attrs:{direction:e.direction}},e._l(e.teamPinnedLinks,(function(i){return t("links-list-item",{key:i.id,attrs:{"link-group":i,"is-on-dash":!0,"is-tile":e.mode===e.LinksMode.Tile,"is-team-link":!0},on:{"hook:mounted":e.onLinkGroupMounted}})})),1):e._e(),e._v(" "),e.pinnedLinks.length>0?t("base-item-list",{attrs:{direction:e.direction},model:{value:e.pinnedLinksOrderIds,callback:function(t){e.pinnedLinksOrderIds=t},expression:"pinnedLinksOrderIds"}},e._l(e.pinnedLinks,(function(i){return t("links-list-item",{key:i.id,attrs:{"link-group":i,"is-on-dash":!0,"is-tile":e.mode===e.LinksMode.Tile},on:{"hook:mounted":e.onLinkGroupMounted}})})),1):e._e()],1)],1):e._e()};a._withStripped=!0;var d=i(55040),r=i(28692),l=i(89968),u=i(23370),c=i(40531),p=i(42223);const h=new(i(20338).Z)({feature:"links"}),v={name:"LinksDash",components:{OverflowCarousel:()=>i.e(1027).then(i.bind(i,41027)),AppContainer:()=>Promise.resolve().then(i.bind(i,10079)),LinksListItem:()=>Promise.all([i.e(2433),i.e(1389),i.e(7615),i.e(8567)]).then(i.bind(i,97615)),BaseItemList:()=>i.e(4493).then(i.bind(i,14493))},mixins:[p.Z],provide(){return{viewStateStore:this.linksViewStateStore,itemStore:this.linksStore,capture:h.capture}},props:{mode:{type:String,default:o.LS.List,validator:e=>Object.values(o.LS).some((t=>t===e))}},data:()=>({mountedLinkGroups:0}),unreactive:()=>({BaseItemListDirection:d.O,LinksMode:o.LS}),computed:{...(0,r.Kc)(l.useLinksViewStateStore,u.useLinksStore),activeMode:()=>c.ax.linksMode,teamPinnedLinks(){return this.linksStore.getPinnedTeamItems},pinnedLinks(){return this.linksStore.getPinnedItems},pinnedLinksOrderIds:{get(){return this.pinnedLinks.map((e=>e.id))},async set(e){await this.linksStore.updatePartialRootLinksOrderIds(e)}},totalPinnedLinks(){return this.teamPinnedLinks.length+this.pinnedLinks.length},direction(){return this.mode===o.LS.Tile?d.O.Row:d.O.Column},linksLoadedAndMounted(){return this.linksStore.loaded&&this.totalPinnedLinks===this.mountedLinkGroups}},methods:{onAllComponentsMountedOverride(){this.$e.$emit(o.o1[this.mode])},onLinkGroupMounted(){this.mountedLinkGroups+=1}}};i(2260);const g=(0,i(51900).Z)(v,a,[],!1,null,"4ac22d4c",null).exports;var k=i(7838);const f=document.querySelector(".region.top-left"),w=document.querySelector(".region.sidebar-left");Promise.all(Object.values(o.o1).map((e=>new Promise((t=>{k.Z.$on(e,t)}))))).then((()=>{m.widgetManager.appReady("links")})).catch(console.error);const M=document.createElement("div"),I=document.createElement("div");f&&(f.prepend(I),f.prepend(M)),new n.Z({render:e=>e(s.default)}).$mount(M),new n.Z({render:e=>e(g,{props:{mode:o.LS.Tile}})}).$mount(I);const b=document.createElement("div");w&&w.prepend(b),new n.Z({render:e=>e(g,{props:{mode:o.LS.List}})}).$mount(b)},89968:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s,useLinksViewStateStore:()=>n});const n=(0,i(95756).v)("links",{list:{defaultView:!0,order:1},form:{order:2}}),s=n},95756:(e,t,i)=>{"use strict";i.d(t,{v:()=>l});var n=i(28692),s=i(20144),o=i(96046),a=i(63139),d=function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function a(e){try{r(n.next(e))}catch(e){o(e)}}function d(e){try{r(n.throw(e))}catch(e){o(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,d)}r((n=n.apply(e,t||[])).next())}))};const r=e=>Object.keys(e).find((t=>{var i;return null===(i=e[t])||void 0===i?void 0:i.defaultView})),l=(e,t)=>{const i=(0,n.Q_)(e+"ViewState",{state:()=>{var i;return{activeViewId:null!==(i=r(t))&&void 0!==i?i:"",beforeViewChange:()=>Promise.resolve(!0),confirmationProps:null,fullscreen:!1,popupActive:!1,name:e}},getters:{activeView(e){const i=t[e.activeViewId];if(i)return i;throw new Error("No view found with id: "+e.activeViewId)},focused:()=>a.Z.isOnTop(e)},actions:{focus(){a.Z.add(e)},setActiveView(e){return d(this,void 0,void 0,(function*(){if(yield this.beforeViewChange())if("default"===e){const e=r(t);if(!e)throw new Error("No view found with defaultView: true");this.activeViewId=e}else this.activeViewId=e}))},togglePopup(e){return d(this,void 0,void 0,(function*(){(yield this.beforeViewChange())&&(!e&&this.fullscreen&&(this.fullscreen=!1),yield s.ZP.nextTick(),this.popupActive=null!=e?e:!this.popupActive,this.popupActive||(this.resetBeforeViewChange(),this.confirmationProps=null,yield this.setActiveView("default")))}))},resetBeforeViewChange(){this.beforeViewChange=()=>Promise.resolve(!0)},setConfirmation(e){return d(this,void 0,void 0,(function*(){return new Promise((t=>{this.confirmationProps=e,this.confirmationProps.confirm=()=>t(!0),this.confirmationProps.cancel=()=>t(!1)})).finally((()=>{this.confirmationProps=null}))}))}}}),l=(0,n.Jk)(i());return(0,s.YP)(l.popupActive,(t=>{t?a.Z.add(e):a.Z.remove(e)})),(0,s.YP)(l.confirmationProps,(t=>{(null==t?void 0:t.dashboardOverlay)&&a.Z.add(e,!0),o.Z.dashboardOverlayActive=!!(null==t?void 0:t.dashboardOverlay)})),i}},10079:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=function(){var e=this,t=e._self._c;return t("transition",{attrs:{appear:"",name:"fade"}},[e.appVisible?t("div",{staticClass:"app-container",class:[e.appName,{"show-anyway":e.showAnyway}]},[e._t("default"),e._v(" "),t("transition",{attrs:{name:"fade",duration:"150"}},[e.overlay?t("div",{staticClass:"touch-overlay",on:{click:e.toggleApp}}):e._e()])],2):e._e()])};n._withStripped=!0;var s=i(30827),o=i(40531);const a={name:"AppContainer",mixins:[i(42223).Z],props:{appName:{type:String,required:!0},overlay:{type:Boolean,default:!1},visibleSetting:{type:String,default:""},hotkey:{type:String,default:""}},computed:{showAnyway(){return s.Z.includes(this.appName)},appVisible(){return!this.visibleSetting||o.Fl[this.visibleSetting]}},created(){this.hotkey&&m.on("globalEvent:key:"+this.hotkey,this.toggleApp)},destroyed(){this.hotkey&&m.off("globalEvent:key:"+this.hotkey,this.toggleApp)},methods:{toggleApp(e){this.$emit("toggle",e)}}},d=(0,i(51900).Z)(a,n,[],!1,null,null,null).exports},94451:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=function(){var e=this,t=e._self._c;return t("div",e._g({class:["app-dash","toggle","add-shadow",{"app-dash-icon":!!e.src}],attrs:{"data-test":"app-dash"}},e.$listeners),[e.src?[t("inline-svg",{attrs:{src:e.src}}),e._v(" "),t("span",{staticClass:"app-dash-icon-label u--mobile-hide"},[e._t("default")],2)]:e._t("default")],2)};n._withStripped=!0;var s=i(34952);const o={name:"AppDash",props:{src:{type:i.n(s)().props.src.type,default:""}}},a=(0,i(51900).Z)(o,n,[],!1,null,null,null).exports},33200:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=function(){var e=this,t=e._self._c;return t("app-container",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeIfKeepOpenDisabled,expression:"closeIfKeepOpenDisabled"}],attrs:{"app-name":"links","visible-setting":"linksVisible",overlay:e.popupActive,"data-test":"links",hotkey:"L"},on:{toggle:e.togglePopupAndCaptureIfOpen}},[t("app-dash",{attrs:{src:e.$team?i(45231):""},on:{click:function(t){return e.togglePopupAndCaptureIfOpen({source:"click"})}}},[e._v("\n\t\tLinks\n\t")]),e._v(" "),t("transition",{attrs:{name:"slide-down-fade"}},[e.popupActive?t("links-app"):e._e()],1)],1)};n._withStripped=!0;var s=i(10079),o=i(94451),a=i(89968),d=i(23370),r=i(28692),l=i(40063),u=i(42223),c=i(40531),p=i(24749);const m=new(i(20338).Z)({feature:"links"}),h={name:"Links",directives:{ClickOutside:l.Z},components:{LinksApp:()=>Promise.all([i.e(2433),i.e(6943),i.e(1389),i.e(4061),i.e(604),i.e(9094),i.e(7615),i.e(331)]).then(i.bind(i,90331)),AppDash:o.Z,AppContainer:s.default},mixins:[u.Z],provide(){return{viewStateStore:this.linksViewStateStore,itemStore:this.linksStore,capture:m.capture}},computed:{...(0,r.Kc)(a.useLinksViewStateStore,d.useLinksStore),popupActive(){return this.linksViewStateStore.popupActive}},watch:{popupActive(e){e?localStorage.setItem(p.hg,e):localStorage.removeItem(p.hg)}},created(){this.linksStore.refresh(),c.ax.linksKeepOpen&&!this.$touch&&localStorage.getItem(p.hg)&&this.togglePopup(!0)},methods:{async togglePopupAndCaptureIfOpen(e){if(await this.togglePopup(),this.popupActive){const t=e instanceof KeyboardEvent?"hotkey":"click";m.capture("app show",{source:t})}},async togglePopup(e){this.popupActive&&!this.linksViewStateStore.focused?this.linksViewStateStore.focus():await this.linksViewStateStore.togglePopup("boolean"==typeof e?e:void 0)},closeIfKeepOpenDisabled(){c.ax.linksKeepOpen||this.togglePopup(!1)},onAllComponentsMountedOverride(){this.$e.$emit(p.o1.base)}}};i(30388);const v=(0,i(51900).Z)(h,n,[],!1,null,"7fb2f514",null).exports},2260:(e,t,i)=>{var n=i(47596);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(45346).Z)("567e8b12",n,!1,{})},30388:(e,t,i)=>{var n=i(28289);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(45346).Z)("e5f99704",n,!1,{ssrId:!0})},45231:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImN1cnJlbnRDb2xvciIgdmlld0JveD0iMCAwIDY0IDY0Ij48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMyAxNS42NThhMi41IDIuNSAwIDAgMC0yLjUtMi41SDE1YTggOCAwIDAgMC04IDh2MjhhOCA4IDAgMCAwIDggOGgyOGE4IDggMCAwIDAgOC04VjMzLjVhMi41IDIuNSAwIDAgMC01IDB2MTUuNjU4YTMgMyAwIDAgMS0zIDNIMTVhMyAzIDAgMCAxLTMtM3YtMjhhMyAzIDAgMCAxIDMtM2gxNS41YTIuNSAyLjUgMCAwIDAgMi41LTIuNVoiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Mi42OCA3LjY1N2EyLjUgMi41IDAgMCAxIDIuNS0yLjVoMTEuMzE1YTIuNDk2IDIuNDk2IDAgMCAxIDIuNSAyLjVWMTguOTdhMi41IDIuNSAwIDEgMS01IDB2LTUuMjc3bC0xMy40MSAxMy40MWEyLjUgMi41IDAgMSAxLTMuNTM2LTMuNTM2bDEzLjQxLTEzLjQxaC01LjI3OGEyLjUgMi41IDAgMCAxLTIuNS0yLjVaIi8+PC9zdmc+"}}]);